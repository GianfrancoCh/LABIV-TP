var n0=Object.defineProperty,r0=Object.defineProperties;var i0=Object.getOwnPropertyDescriptors;var Ma=Object.getOwnPropertySymbols,s0=Object.getPrototypeOf,uv=Object.prototype.hasOwnProperty,lv=Object.prototype.propertyIsEnumerable,o0=Reflect.get;var cv=(t,e,n)=>e in t?n0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})uv.call(e,n)&&cv(t,n,e[n]);if(Ma)for(var n of Ma(e))lv.call(e,n)&&cv(t,n,e[n]);return t},ve=(t,e)=>r0(t,i0(e));var dv=(t,e)=>{var n={};for(var r in t)uv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ma)for(var r of Ma(t))e.indexOf(r)<0&&lv.call(t,r)&&(n[r]=t[r]);return n};var Fn=(t,e,n)=>o0(s0(t),n,e);var D=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(d){i(d)}},o=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});var ud=null;var cd=1,hv=Symbol("SIGNAL");function le(t){let e=ud;return ud=t,e}function fv(){return ud}var ld={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function a0(t){if(!(gd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cd)){if(!t.producerMustRecompute(t)&&!hd(t)){t.dirty=!1,t.lastCleanEpoch=cd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=cd}}function dd(t){return t&&(t.nextProducerIndex=0),le(t)}function pv(t,e){if(le(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(gd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hd(t){md(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(a0(n),r!==n.version))return!0}return!1}function fd(t){if(md(t),gd(t))for(let e=0;e<t.producerNode.length;e++)pd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pd(t,e){if(c0(t),t.liveConsumerNode.length===1&&u0(t))for(let r=0;r<t.producerNode.length;r++)pd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];md(i),i.producerIndexOfThis[r]=e}}function gd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function md(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function c0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function u0(t){return t.producerNode!==void 0}function l0(){throw new Error}var d0=l0;function gv(t){d0=t}function G(t){return typeof t=="function"}function ci(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xa=ci(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function gr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(s){e=s instanceof xa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{mv(s)}catch(o){e=e??[],o instanceof xa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new xa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)mv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&gr(n,e)}remove(e){let{_finalizers:n}=this;n&&gr(n,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var yd=Ee.EMPTY;function Pa(t){return t instanceof Ee||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function mv(t){G(t)?t():t.unsubscribe()}var Lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ui={setTimeout(t,e,...n){let{delegate:r}=ui;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ui;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Oa(t){ui.setTimeout(()=>{let{onUnhandledError:e}=Lt;if(e)e(t);else throw t})}function Gs(){}var yv=vd("C",void 0,void 0);function vv(t){return vd("E",void 0,t)}function Iv(t){return vd("N",t,void 0)}function vd(t,e,n){return{kind:t,value:e,error:n}}var mr=null;function li(t){if(Lt.useDeprecatedSynchronousErrorHandling){let e=!mr;if(e&&(mr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=mr;if(mr=null,n)throw r}}else t()}function _v(t){Lt.useDeprecatedSynchronousErrorHandling&&mr&&(mr.errorThrown=!0,mr.error=t)}var yr=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pa(e)&&e.add(this)):this.destination=p0}static create(e,n,r){return new di(e,n,r)}next(e){this.isStopped?_d(Iv(e),this):this._next(e)}error(e){this.isStopped?_d(vv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_d(yv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},h0=Function.prototype.bind;function Id(t,e){return h0.call(t,e)}var wd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ka(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ka(r)}else ka(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ka(n)}}},di=class extends yr{constructor(e,n,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Lt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Id(e.next,s),error:e.error&&Id(e.error,s),complete:e.complete&&Id(e.complete,s)}):i=e}this.destination=new wd(i)}};function ka(t){Lt.useDeprecatedSynchronousErrorHandling?_v(t):Oa(t)}function f0(t){throw t}function _d(t,e){let{onStoppedNotification:n}=Lt;n&&ui.setTimeout(()=>n(t,e))}var p0={closed:!0,next:Gs,error:f0,complete:Gs};var hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dt(t){return t}function Ed(...t){return Td(t)}function Td(t){return t.length===0?dt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=m0(n)?n:new di(n,r,i);return li(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=wv(r),new r((i,s)=>{let o=new di({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hi](){return this}pipe(...n){return Td(n)(this)}toPromise(n){return n=wv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wv(t){var e;return(e=t??Lt.Promise)!==null&&e!==void 0?e:Promise}function g0(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function m0(t){return t&&t instanceof yr||g0(t)&&Pa(t)}function Dd(t){return G(t?.lift)}function re(t){return e=>{if(Dd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new bd(t,e,n,r,i)}var bd=class extends yr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fi(){return re((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var pi=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return fi()(this)}};var Ev=ci(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new La(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ev}next(n){li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?yd:(this.currentObservers=null,s.push(n),new Ee(()=>{this.currentObservers=null,gr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new La(e,n),t})(),La=class extends Je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:yd}};var $e=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cd={now(){return(Cd.delegate||Date).now()},delegate:void 0};var Fa=class extends Ee{constructor(e,n){super()}schedule(e,n=0){return this}};var Ws={setInterval(t,e,...n){let{delegate:r}=Ws;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ws;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var gi=class extends Fa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ws.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ws.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,gr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var mi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};mi.now=Cd.now;var yi=class extends mi{constructor(e,n=mi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Sd=new yi(gi);var Va=class extends gi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ua=class extends yi{};var Ad=new Ua(Va);var ht=new oe(t=>t.complete());function Tv(t){return t&&G(t.schedule)}function Dv(t){return t[t.length-1]}function bv(t){return G(Dv(t))?t.pop():void 0}function Vn(t){return Tv(Dv(t))?t.pop():void 0}function Rd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Sv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(g){o(g)}}function u(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function Cv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vr(t){return this instanceof vr?(this.v=t,this):new vr(t)}function Av(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(E){return function(A){return Promise.resolve(A).then(E,g)}}function c(E,A){r[E]&&(i[E]=function(x){return new Promise(function(P,F){s.push([E,x,P,F])>1||u(E,x)})},A&&(i[E]=A(i[E])))}function u(E,A){try{d(r[E](A))}catch(x){I(s[0][3],x)}}function d(E){E.value instanceof vr?Promise.resolve(E.value.v).then(f,g):I(s[0][2],E)}function f(E){u("next",E)}function g(E){u("throw",E)}function I(E,A){E(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Rv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cv=="function"?Cv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}var ja=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ba(t){return G(t?.then)}function $a(t){return G(t[hi])}function za(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function qa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function y0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ha=y0();function Ga(t){return G(t?.[Ha])}function Wa(t){return Av(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield vr(n.read());if(i)return yield vr(void 0);yield yield vr(r)}}finally{n.releaseLock()}})}function Ka(t){return G(t?.getReader)}function Fe(t){if(t instanceof oe)return t;if(t!=null){if($a(t))return v0(t);if(ja(t))return I0(t);if(Ba(t))return _0(t);if(za(t))return Nv(t);if(Ga(t))return w0(t);if(Ka(t))return E0(t)}throw qa(t)}function v0(t){return new oe(e=>{let n=t[hi]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function I0(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _0(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Oa)})}function w0(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Nv(t){return new oe(e=>{T0(t,e).catch(n=>e.error(n))})}function E0(t){return Nv(Wa(t))}function T0(t,e){var n,r,i,s;return Sv(this,void 0,void 0,function*(){try{for(n=Rv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function st(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Un(t,e=0){return re((n,r)=>{n.subscribe(ie(r,i=>st(r,t,()=>r.next(i),e),()=>st(r,t,()=>r.complete(),e),i=>st(r,t,()=>r.error(i),e)))})}function jn(t,e=0){return re((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Mv(t,e){return Fe(t).pipe(jn(e),Un(e))}function xv(t,e){return Fe(t).pipe(jn(e),Un(e))}function Pv(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ov(t,e){return new oe(n=>{let r;return st(n,e,()=>{r=t[Ha](),st(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function Qa(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{st(n,e,()=>{let r=t[Symbol.asyncIterator]();st(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kv(t,e){return Qa(Wa(t),e)}function Lv(t,e){if(t!=null){if($a(t))return Mv(t,e);if(ja(t))return Pv(t,e);if(Ba(t))return xv(t,e);if(za(t))return Qa(t,e);if(Ga(t))return Ov(t,e);if(Ka(t))return kv(t,e)}throw qa(t)}function Te(t,e){return e?Lv(t,e):Fe(t)}function $(...t){let e=Vn(t);return Te(t,e)}function vi(t,e){let n=G(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function Nd(t){return!!t&&(t instanceof oe||G(t.lift)&&G(t.subscribe))}var dn=ci(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return re((n,r)=>{let i=0;n.subscribe(ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:D0}=Array;function b0(t,e){return D0(e)?t(...e):t(e)}function Fv(t){return X(e=>b0(t,e))}var{isArray:C0}=Array,{getPrototypeOf:S0,prototype:A0,keys:R0}=Object;function Vv(t){if(t.length===1){let e=t[0];if(C0(e))return{args:e,keys:null};if(N0(e)){let n=R0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function N0(t){return t&&typeof t=="object"&&S0(t)===A0}function Uv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ya(...t){let e=Vn(t),n=bv(t),{args:r,keys:i}=Vv(t);if(r.length===0)return Te([],e);let s=new oe(M0(r,e,i?o=>Uv(i,o):dt));return n?s.pipe(Fv(n)):s}function M0(t,e,n=dt){return r=>{jv(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)jv(e,()=>{let d=Te(t[u],e),f=!1;d.subscribe(ie(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function jv(t,e,n){t?st(n,t,e):e()}function Bv(t,e,n,r,i,s,o,c){let u=[],d=0,f=0,g=!1,I=()=>{g&&!u.length&&!d&&e.complete()},E=x=>d<r?A(x):u.push(x),A=x=>{s&&e.next(x),d++;let P=!1;Fe(n(x,f++)).subscribe(ie(e,F=>{i?.(F),s?E(F):e.next(F)},()=>{P=!0},void 0,()=>{if(P)try{for(d--;u.length&&d<r;){let F=u.shift();o?st(e,o,()=>A(F)):A(F)}I()}catch(F){e.error(F)}}))};return t.subscribe(ie(e,E,()=>{g=!0,I()})),()=>{c?.()}}function Oe(t,e,n=1/0){return G(e)?Oe((r,i)=>X((s,o)=>e(r,s,i,o))(Fe(t(r,i))),n):(typeof e=="number"&&(n=e),re((r,i)=>Bv(r,i,t,n)))}function Ii(t=1/0){return Oe(dt,t)}function $v(){return Ii(1)}function _i(...t){return $v()(Te(t,Vn(t)))}function Ja(t){return new oe(e=>{Fe(t()).subscribe(e)})}function Tt(t,e){return re((n,r)=>{let i=0;n.subscribe(ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Bn(t){return re((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ie(n,void 0,void 0,o=>{s=Fe(t(o,Bn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function zv(t,e,n,r,i){return(s,o)=>{let c=n,u=e,d=0;s.subscribe(ie(o,f=>{let g=d++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Ir(t,e){return G(e)?Oe(t,e,1):Oe(t,1)}function $n(t){return re((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hn(t){return t<=0?()=>ht:re((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Md(t){return X(()=>t)}function Za(t=x0){return re((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function x0(){return new dn}function wi(t){return re((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ft(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,s)=>t(i,s,r)):dt,hn(1),n?$n(e):Za(()=>new dn))}function Ei(t){return t<=0?()=>ht:re((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,s)=>t(i,s,r)):dt,Ei(1),n?$n(e):Za(()=>new dn))}function Pd(t,e){return re(zv(t,e,arguments.length>=2,!0))}function Od(...t){let e=Vn(t);return re((n,r)=>{(e?_i(t,n,e):_i(t,n)).subscribe(r)})}function Dt(t,e){return re((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let d=0,f=s++;Fe(t(u,f)).subscribe(i=ie(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function kd(t){return re((e,n)=>{Fe(t).subscribe(ie(n,()=>n.complete(),Gs)),!n.closed&&e.subscribe(n)})}function De(t,e,n){let r=G(t)||e||n?{next:t,error:e,complete:n}:t;return r?re((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ie(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):dt}var AI="https://g.co/ng/security#xss",U=class extends Error{constructor(e,n){super(Pc(e,n)),this.code=e}};function Pc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Oc(t){return{toString:t}.toString()}var Xa="__parameters__";function P0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function O0(t,e,n){return Oc(()=>{let r=P0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,d,f){let g=u.hasOwnProperty(Xa)?u[Xa]:Object.defineProperty(u,Xa,{value:[]})[Xa];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Gd=globalThis;function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("Could not find renamed property on target object.")}function ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function qv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var k0=pe({__forward_ref__:pe});function RI(t){return t.__forward_ref__=RI,t.toString=function(){return ft(this())},t}function Ct(t){return NI(t)?t():t}function NI(t){return typeof t=="function"&&t.hasOwnProperty(k0)&&t.__forward_ref__===RI}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kc(t){return Hv(t,xI)||Hv(t,PI)}function MI(t){return kc(t)!==null}function Hv(t,e){return t.hasOwnProperty(e)?t[e]:null}function L0(t){let e=t&&(t[xI]||t[PI]);return e||null}function Gv(t){return t&&(t.hasOwnProperty(Wv)||t.hasOwnProperty(F0))?t[Wv]:null}var xI=pe({\u0275prov:pe}),Wv=pe({\u0275inj:pe}),PI=pe({ngInjectableDef:pe}),F0=pe({ngInjectorDef:pe}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function OI(t){return t&&!!t.\u0275providers}var V0=pe({\u0275cmp:pe}),U0=pe({\u0275dir:pe}),j0=pe({\u0275pipe:pe}),B0=pe({\u0275mod:pe}),dc=pe({\u0275fac:pe}),Ys=pe({__NG_ELEMENT_ID__:pe}),Kv=pe({__NG_ENV_ID__:pe});function Lc(t){return typeof t=="string"?t:t==null?"":String(t)}function $0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Lc(t)}function z0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function Oh(t,e){throw new U(-201,!1)}var Y=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Y||{}),Wd;function kI(){return Wd}function bt(t){let e=Wd;return Wd=t,e}function LI(t,e,n){let r=kc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Y.Optional)return null;if(e!==void 0)return e;Oh(t,"Injector")}var q0={},Js=q0,Kd="__NG_DI_FLAG__",hc="ngTempTokenPath",H0="ngTokenPath",G0=/\n/gm,W0="\u0275",Qv="__source",Ci;function K0(){return Ci}function zn(t){let e=Ci;return Ci=t,e}function Q0(t,e=Y.Default){if(Ci===void 0)throw new U(-203,!1);return Ci===null?LI(t,void 0,e):Ci.get(t,e&Y.Optional?null:void 0,e)}function J(t,e=Y.Default){return(kI()||Q0)(Ct(t),e)}function N(t,e=Y.Default){return J(t,Fc(e))}function Fc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qd(t){let e=[];for(let n=0;n<t.length;n++){let r=Ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){let c=r[o],u=J0(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(J(i,s))}else e.push(J(r))}return e}function Y0(t,e){return t[Kd]=e,t.prototype[Kd]=e,t}function J0(t){return t[Kd]}function Z0(t,e,n,r){let i=t[hc];throw e[Qv]&&i.unshift(e[Qv]),t.message=X0(`
`+t.message,i,n,r),t[H0]=i,t[hc]=null,t}function X0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==W0?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ft(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(G0,`
  `)}`}var at=Y0(O0("Optional"),8);function Ai(t,e){let n=t.hasOwnProperty(dc);return n?t[dc]:null}function eS(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function tS(t){return t.flat(Number.POSITIVE_INFINITY)}function kh(t,e){t.forEach(n=>Array.isArray(n)?kh(n,e):e(n))}function FI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Zs={},Tr=[],Dr=new V(""),VI=new V("",-1),UI=new V(""),pc=class{get(e,n=Js){if(n===Js){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}},jI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jI||{}),Gt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gt||{}),Hn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Hn||{});function nS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Yd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];rS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function BI(t){return t===3||t===4||t===6}function rS(t){return t.charCodeAt(0)===64}function Lh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Yv(t,n,i,null,e[++r]):Yv(t,n,i,null,null))}}return t}function Yv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var $I="ng-template";function iS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&nS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Fh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Fh(t){return t.type===4&&t.value!==$I}function sS(t,e,n){let r=t.type===4&&!n?$I:t.value;return e===r}function oS(t,e,n){let r=4,i=t.attrs,s=i!==null?uS(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Vt(r)&&!Vt(u))return!1;if(o&&Vt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!sS(t,u,n)||u===""&&e.length===1){if(Vt(r))return!1;o=!0}}else if(r&8){if(i===null||!iS(t,i,u,n)){if(Vt(r))return!1;o=!0}}else{let d=e[++c],f=aS(u,i,Fh(t),n);if(f===-1){if(Vt(r))return!1;o=!0;continue}if(d!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Vt(r))return!1;o=!0}}}}return Vt(r)||o}function Vt(t){return(t&1)===0}function aS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return lS(e,t)}function cS(t,e,n=!1){for(let r=0;r<e.length;r++)if(oS(t,e[r],n))return!0;return!1}function uS(t){for(let e=0;e<t.length;e++){let n=t[e];if(BI(n))return e}return t.length}function lS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Jv(t,e){return t?":not("+e.trim()+")":e}function dS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Vt(o)&&(e+=Jv(s,i),i=""),r=o,s=s||!Vt(r);n++}return i!==""&&(e+=Jv(s,i)),e}function hS(t){return t.map(dS).join(",")}function fS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Vt(i))break;i=s}r++}return{attrs:e,classes:n}}function Nt(t){return Oc(()=>{let e=WI(t),n=ve(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gt.Emulated,styles:t.styles||Tr,_:null,schemas:t.schemas||null,tView:null,id:""});KI(n);let r=t.dependencies;return n.directiveDefs=Xv(r,!1),n.pipeDefs=Xv(r,!0),n.id=mS(n),n})}function pS(t){return br(t)||zI(t)}function gS(t){return t!==null}function Zv(t,e){if(t==null)return Zs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Hn.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Hn.None?[r,c]:r,e[s]=o):n[s]=r}return n}function oo(t){return Oc(()=>{let e=WI(t);return KI(e),e})}function br(t){return t[V0]||null}function zI(t){return t[U0]||null}function qI(t){return t[j0]||null}function HI(t){let e=br(t)||zI(t)||qI(t);return e!==null?e.standalone:!1}function GI(t,e){let n=t[B0]||null;if(!n&&e===!0)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function WI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Zs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Tr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zv(t.inputs,e),outputs:Zv(t.outputs),debugInfo:null}}function KI(t){t.features?.forEach(e=>e(t))}function Xv(t,e){if(!t)return null;let n=e?qI:pS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(gS)}function mS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function mt(t){return{\u0275providers:t}}function yS(...t){return{\u0275providers:QI(!0,t),\u0275fromNgModule:!0}}function QI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return kh(e,o=>{let c=o;Jd(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&YI(i,s),n}function YI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Vh(i,s=>{e(s,r)})}}function Jd(t,e,n,r){if(t=Ct(t),!t)return!1;let i=null,s=Gv(t),o=!s&&br(t);if(!s&&!o){let u=t.ngModule;if(s=Gv(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)Jd(d,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let d;try{kh(s.imports,f=>{Jd(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&YI(d,e)}if(!c){let d=Ai(i)||(()=>new i);e({provide:i,useFactory:d,deps:Tr},i),e({provide:UI,useValue:i,multi:!0},i),e({provide:Dr,useValue:()=>J(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let d=t;Vh(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Vh(t,e){for(let n of t)OI(n)&&(n=n.\u0275providers),Array.isArray(n)?Vh(n,e):e(n)}var vS=pe({provide:String,useValue:pe});function JI(t){return t!==null&&typeof t=="object"&&vS in t}function IS(t){return!!(t&&t.useExisting)}function _S(t){return!!(t&&t.useFactory)}function Zd(t){return typeof t=="function"}var Vc=new V(""),sc={},wS={},Ld;function Uh(){return Ld===void 0&&(Ld=new pc),Ld}var At=class{},Xs=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eh(e,o=>this.processProvider(o)),this.records.set(VI,Ti(void 0,this)),i.has("environment")&&this.records.set(At,Ti(void 0,this));let s=this.records.get(Vc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(UI,Tr,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=zn(this),r=bt(void 0),i;try{return e()}finally{zn(n),bt(r)}}get(e,n=Js,r=Y.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Kv))return e[Kv](this);r=Fc(r);let i,s=zn(this),o=bt(void 0);try{if(!(r&Y.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=SS(e)&&kc(e);d&&this.injectableDefInScope(d)?u=Ti(Xd(e),sc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&Y.Self?Uh():this.parent;return n=r&Y.Optional&&n===Js?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[hc]=c[hc]||[]).unshift(ft(e)),s)throw c;return Z0(c,e,"R3InjectorError",this.source)}else throw c}finally{bt(o),zn(s)}}resolveInjectorInitializers(){let e=le(null),n=zn(this),r=bt(void 0),i;try{let s=this.get(Dr,Tr,Y.Self);for(let o of s)o()}finally{zn(n),bt(r),le(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=Ct(e);let n=Zd(e)?e:Ct(e&&e.provide),r=TS(e);if(!Zd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ti(void 0,sc,!0),i.factory=()=>Qd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=le(null);try{return n.value===sc&&(n.value=wS,n.value=n.factory()),typeof n.value=="object"&&n.value&&CS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xd(t){let e=kc(t),n=e!==null?e.factory:Ai(t);if(n!==null)return n;if(t instanceof V)throw new U(204,!1);if(t instanceof Function)return ES(t);throw new U(204,!1)}function ES(t){if(t.length>0)throw new U(204,!1);let n=L0(t);return n!==null?()=>n.factory(t):()=>new t}function TS(t){if(JI(t))return Ti(void 0,t.useValue);{let e=DS(t);return Ti(e,sc)}}function DS(t,e,n){let r;if(Zd(t)){let i=Ct(t);return Ai(i)||Xd(i)}else if(JI(t))r=()=>Ct(t.useValue);else if(_S(t))r=()=>t.useFactory(...Qd(t.deps||[]));else if(IS(t))r=()=>J(Ct(t.useExisting));else{let i=Ct(t&&(t.useClass||t.provide));if(bS(t))r=()=>new i(...Qd(t.deps));else return Ai(i)||Xd(i)}return r}function Ti(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bS(t){return!!t.deps}function CS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function SS(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function eh(t,e){for(let n of t)Array.isArray(n)?eh(n,e):n&&OI(n)?eh(n.\u0275providers,e):e(n)}function Qt(t,e){t instanceof Xs&&t.assertNotDestroyed();let n,r=zn(t),i=bt(void 0);try{return e()}finally{zn(r),bt(i)}}function AS(){return kI()!==void 0||K0()!=null}function RS(t){return typeof t=="function"}var pt=0,K=1,H=2,qe=3,Ut=4,$t=5,Wt=6,gc=7,fn=8,Ri=9,Kt=10,Ae=11,eo=12,eI=13,ao=14,Rt=15,Cr=16,Di=17,pn=18,Uc=19,ZI=20,qn=21,Fd=22,St=23,gt=25,XI=1,to=6,gn=7,mc=8,Ni=9,ot=10,yc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yc||{});function jt(t){return Array.isArray(t)&&typeof t[XI]=="object"}function Yt(t){return Array.isArray(t)&&t[XI]===!0}function e_(t){return(t.flags&4)!==0}function jc(t){return t.componentOffset>-1}function t_(t){return(t.flags&1)===1}function co(t){return!!t.template}function vc(t){return(t[H]&512)!==0}var th=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function n_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Li(){return r_}function r_(t){return t.type.prototype.ngOnChanges&&(t.setInput=MS),NS}Li.ngInherit=!0;function NS(){let t=s_(this),e=t?.current;if(e){let n=t.previous;if(n===Zs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function MS(t,e,n,r,i){let s=this.declaredInputs[r],o=s_(t)||xS(t,{previous:Zs,current:null}),c=o.current||(o.current={}),u=o.previous,d=u[s];c[s]=new th(d&&d.currentValue,n,u===Zs),n_(t,e,i,n)}var i_="__ngSimpleChanges__";function s_(t){return t[i_]||null}function xS(t,e){return t[i_]=e}var tI=null;var qt=function(t,e,n){tI?.(t,e,n)},PS="svg",OS="math";function Bt(t){for(;Array.isArray(t);)t=t[pt];return t}function kS(t,e){return Bt(e[t])}function Mt(t,e){return Bt(e[t.index])}function o_(t,e){return t.data[e]}function Nr(t,e){let n=e[t];return jt(n)?n:n[pt]}function LS(t){return(t[H]&4)===4}function jh(t){return(t[H]&128)===128}function FS(t){return Yt(t[qe])}function nI(t,e){return e==null?null:t[e]}function a_(t){t[Di]=0}function c_(t){t[H]&1024||(t[H]|=1024,jh(t)&&$c(t))}function Bc(t){return!!(t[H]&9216||t[St]?.dirty)}function nh(t){t[Kt].changeDetectionScheduler?.notify(8),t[H]&64&&(t[H]|=1024),Bc(t)&&$c(t)}function $c(t){t[Kt].changeDetectionScheduler?.notify(0);let e=Sr(t);for(;e!==null&&!(e[H]&8192||(e[H]|=8192,!jh(e)));)e=Sr(e)}function u_(t,e){if((t[H]&256)===256)throw new U(911,!1);t[qn]===null&&(t[qn]=[]),t[qn].push(e)}function VS(t,e){if(t[qn]===null)return;let n=t[qn].indexOf(e);n!==-1&&t[qn].splice(n,1)}function Sr(t){let e=t[qe];return Yt(e)?e[qe]:e}var ue={lFrame:I_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var l_=!1;function US(){return ue.lFrame.elementDepthCount}function jS(){ue.lFrame.elementDepthCount++}function BS(){ue.lFrame.elementDepthCount--}function d_(){return ue.bindingsEnabled}function uo(){return ue.skipHydrationRootTNode!==null}function $S(t){return ue.skipHydrationRootTNode===t}function zS(t){ue.skipHydrationRootTNode=t}function qS(){ue.skipHydrationRootTNode=null}function be(){return ue.lFrame.lView}function Kn(){return ue.lFrame.tView}function ct(){let t=h_();for(;t!==null&&t.type===64;)t=t.parent;return t}function h_(){return ue.lFrame.currentTNode}function HS(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function zc(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function f_(){return ue.lFrame.isParent}function GS(){ue.lFrame.isParent=!1}function p_(){return l_}function rI(t){l_=t}function WS(t){return ue.lFrame.bindingIndex=t}function g_(){return ue.lFrame.bindingIndex++}function KS(){return ue.lFrame.inI18n}function QS(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,rh(e)}function YS(){return ue.lFrame.currentDirectiveIndex}function rh(t){ue.lFrame.currentDirectiveIndex=t}function m_(){return ue.lFrame.currentQueryIndex}function Bh(t){ue.lFrame.currentQueryIndex=t}function JS(t){let e=t[K];return e.type===2?e.declTNode:e.type===1?t[$t]:null}function y_(t,e,n){if(n&Y.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Y.Host);)if(i=JS(s),i===null||(s=s[ao],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ue.lFrame=v_();return r.currentTNode=e,r.lView=t,!0}function $h(t){let e=v_(),n=t[K];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function v_(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?I_(t):e}function I_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function __(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var w_=__;function zh(){let t=__();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qh(){return ue.lFrame.selectedIndex}function Ar(t){ue.lFrame.selectedIndex=t}function ZS(){let t=ue.lFrame;return o_(t.tView,t.selectedIndex)}function E_(){return ue.lFrame.currentNamespace}var T_=!0;function D_(){return T_}function Qn(t){T_=t}function XS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=r_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function b_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function oc(t,e,n){C_(t,e,3,n)}function ac(t,e,n,r){(t[H]&3)===n&&C_(t,e,n,r)}function Vd(t,e){let n=t[H];(n&3)===e&&(n&=16383,n+=1,t[H]=n)}function C_(t,e,n,r){let i=r!==void 0?t[Di]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Di]+=65536),(c<s||s==-1)&&(eA(t,n,e,u),t[Di]=(t[Di]&4294901760)+u+2),u++}function iI(t,e){qt(4,t,e);let n=le(null);try{e.call(t)}finally{le(n),qt(5,t,e)}}function eA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[H]>>14<t[Di]>>16&&(t[H]&3)===e&&(t[H]+=16384,iI(c,s)):iI(c,s)}var Si=-1,no=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function tA(t){return t instanceof no}function nA(t){return(t.flags&8)!==0}function rA(t){return(t.flags&16)!==0}var Ud={},ih=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fc(r);let i=this.injector.get(e,Ud,r);return i!==Ud||n===Ud?i:this.parentInjector.get(e,n,r)}};function S_(t){return t!==Si}function Ic(t){return t&32767}function iA(t){return t>>16}function _c(t,e){let n=iA(t),r=e;for(;n>0;)r=r[ao],n--;return r}var sh=!0;function sI(t){let e=sh;return sh=t,e}var sA=256,A_=sA-1,R_=5,oA=0,Ht={};function aA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ys)&&(r=n[Ys]),r==null&&(r=n[Ys]=oA++);let i=r&A_,s=1<<i;e.data[t+(i>>R_)]|=s}function N_(t,e){let n=M_(t,e);if(n!==-1)return n;let r=e[K];r.firstCreatePass&&(t.injectorIndex=e.length,jd(r.data,t),jd(e,null),jd(r.blueprint,null));let i=Hh(t,e),s=t.injectorIndex;if(S_(i)){let o=Ic(i),c=_c(i,e),u=c[K].data;for(let d=0;d<8;d++)e[s+d]=c[o+d]|u[o+d]}return e[s+8]=i,s}function jd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function M_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=L_(i),r===null)return Si;if(n++,i=i[ao],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Si}function cA(t,e,n){aA(t,e,n)}function uA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(BI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function x_(t,e,n){if(n&Y.Optional||t!==void 0)return t;Oh(e,"NodeInjector")}function P_(t,e,n,r){if(n&Y.Optional&&r===void 0&&(r=null),!(n&(Y.Self|Y.Host))){let i=t[Ri],s=bt(void 0);try{return i?i.get(e,r,n&Y.Optional):LI(e,r,n&Y.Optional)}finally{bt(s)}}return x_(r,e,n)}function O_(t,e,n,r=Y.Default,i){if(t!==null){if(e[H]&2048&&!(r&Y.Self)){let o=fA(t,e,n,r,Ht);if(o!==Ht)return o}let s=k_(t,e,n,r,Ht);if(s!==Ht)return s}return P_(e,n,r,i)}function k_(t,e,n,r,i){let s=dA(n);if(typeof s=="function"){if(!y_(e,t,r))return r&Y.Host?x_(i,n,r):P_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Y.Optional))Oh(n);else return o}finally{w_()}}else if(typeof s=="number"){let o=null,c=M_(t,e),u=Si,d=r&Y.Host?e[Rt][$t]:null;for((c===-1||r&Y.SkipSelf)&&(u=c===-1?Hh(t,e):e[c+8],u===Si||!aI(r,!1)?c=-1:(o=e[K],c=Ic(u),e=_c(u,e)));c!==-1;){let f=e[K];if(oI(s,c,f.data)){let g=lA(c,e,n,o,r,d);if(g!==Ht)return g}u=e[c+8],u!==Si&&aI(r,e[K].data[c+8]===d)&&oI(s,c,e)?(o=f,c=Ic(u),e=_c(u,e)):c=-1}}return i}function lA(t,e,n,r,i,s){let o=e[K],c=o.data[t+8],u=r==null?jc(c)&&sh:r!=o&&(c.type&3)!==0,d=i&Y.Host&&s===c,f=cc(c,o,n,u,d);return f!==null?Mi(e,o,f,c):Ht}function cc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,d=t.directiveEnd,f=s>>20,g=r?c:c+f,I=i?c+f:d;for(let E=g;E<I;E++){let A=o[E];if(E<u&&n===A||E>=u&&A.type===n)return E}if(i){let E=o[u];if(E&&co(E)&&E.type===n)return u}return null}function Mi(t,e,n,r){let i=t[n],s=e.data;if(tA(i)){let o=i;o.resolving&&z0($0(s[n]));let c=sI(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?bt(o.injectImpl):null,f=y_(t,r,Y.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&XS(n,s[n],e)}finally{d!==null&&bt(d),sI(c),o.resolving=!1,w_()}}return i}function dA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ys)?t[Ys]:void 0;return typeof e=="number"?e>=0?e&A_:hA:e}function oI(t,e,n){let r=1<<t;return!!(n[e+(t>>R_)]&r)}function aI(t,e){return!(t&Y.Self)&&!(t&Y.Host&&e)}var Er=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return O_(this._tNode,this._lView,e,Fc(r),n)}};function hA(){return new Er(ct(),be())}function Gh(t){return Oc(()=>{let e=t.prototype.constructor,n=e[dc]||oh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[dc]||oh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function oh(t){return NI(t)?()=>{let e=oh(Ct(t));return e&&e()}:Ai(t)}function fA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[H]&2048&&!(o[H]&512);){let c=k_(s,o,n,r|Y.Self,Ht);if(c!==Ht)return c;let u=s.parent;if(!u){let d=o[ZI];if(d){let f=d.get(n,Ht,r);if(f!==Ht)return f}u=L_(o),o=o[ao]}s=u}return i}function L_(t){let e=t[K],n=e.type;return n===2?e.declTNode:n===1?t[$t]:null}function Wh(t){return uA(ct(),t)}function cI(t,e=null,n=null,r){let i=F_(t,e,n,r);return i.resolveInjectorInitializers(),i}function F_(t,e=null,n=null,r,i=new Set){let s=[n||Tr,yS(t)];return r=r||(typeof t=="object"?void 0:ft(t)),new Xs(s,e||Uh(),r||null,i)}var _r=class _r{static create(e,n){if(Array.isArray(e))return cI({name:""},n,e,"");{let r=e.name??"";return cI({name:r},e.parent,e.providers,r)}}};_r.THROW_IF_NOT_FOUND=Js,_r.NULL=new pc,_r.\u0275prov=B({token:_r,providedIn:"any",factory:()=>J(VI)}),_r.__NG_ELEMENT_ID__=-1;var rt=_r;var pA=new V("");pA.__NG_ELEMENT_ID__=t=>{let e=ct();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&Y.Optional)return null;throw new U(204,!1)};var gA="ngOriginalError";function Bd(t){return t[gA]}var V_=!0,U_=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ah=class extends U_{constructor(e){super(),this._lView=e}onDestroy(e){return u_(this._lView,e),()=>VS(this._lView,e)}};function mA(){return new ah(be())}var Mr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var ch=class extends Je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,AS()&&(this.destroyRef=N(U_,{optional:!0})??void 0,this.pendingTasks=N(Mr,{optional:!0})??void 0)}emit(e){let n=le(null);try{super.next(e)}finally{le(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ee&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ze=ch;function wc(...t){}function j_(t){let e,n;function r(){t=wc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function uI(t){return queueMicrotask(()=>t()),()=>{t=wc}}var Kh="isAngularZone",Ec=Kh+"_ID",yA=0,he=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=V_}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,_A(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Kh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,vA,wc,wc);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},vA={};function Qh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function IA(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){j_(()=>{t.callbackScheduled=!1,uh(t),t.isCheckStableRunning=!0,Qh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),uh(t)}function _A(t){let e=()=>{IA(t)},n=yA++;t._inner=t._inner.fork({name:"angular",properties:{[Kh]:!0,[Ec]:n,[Ec+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(wA(u))return r.invokeTask(s,o,c,u);try{return lI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),dI(t)}},onInvoke:(r,i,s,o,c,u,d)=>{try{return lI(t),r.invoke(s,o,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!EA(u)&&e(),dI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,uh(t),Qh(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function uh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function lI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dI(t){t._nesting--,Qh(t)}var lh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ze,this.onMicrotaskEmpty=new ze,this.onStable=new ze,this.onError=new ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function wA(t){return B_(t,"__ignore_ng_zone__")}function EA(t){return B_(t,"__scheduler_tick__")}function B_(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var mn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Bd(e);for(;n&&Bd(n);)n=Bd(n);return n||null}},TA=new V("",{providedIn:"root",factory:()=>{let t=N(he),e=N(mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function DA(){return Fi(ct(),be())}function Fi(t,e){return new yn(Mt(t,e))}var yn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=DA;let t=e;return t})();function bA(t){return t instanceof yn?t.nativeElement:t}function CA(){return this._results[Symbol.iterator]()}var dh=class t{get changes(){return this._changes??=new ze}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=CA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=tS(e);(this._changesDetected=!eS(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},SA="ngSkipHydration",AA="ngskiphydration";function $_(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===AA)return!0}return!1}function z_(t){return t.hasAttribute(SA)}function Tc(t){return(t.flags&128)===128}function RA(t){if(Tc(t))return!0;let e=t.parent;for(;e;){if(Tc(t)||$_(e))return!0;e=e.parent}return!1}var q_=new Map,NA=0;function MA(){return NA++}function xA(t){q_.set(t[Uc],t)}function hh(t){q_.delete(t[Uc])}var hI="__ngContext__";function xi(t,e){jt(e)?(t[hI]=e[Uc],xA(e)):t[hI]=e}function H_(t){return W_(t[eo])}function G_(t){return W_(t[Ut])}function W_(t){for(;t!==null&&!Yt(t);)t=t[Ut];return t}var fh;function K_(t){fh=t}function qc(){if(fh!==void 0)return fh;if(typeof document<"u")return document;throw new U(210,!1)}var Hc=new V("",{providedIn:"root",factory:()=>PA}),PA="ng",Yh=new V(""),xt=new V("",{providedIn:"platform",factory:()=>"unknown"});var Jh=new V("",{providedIn:"root",factory:()=>qc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function OA(){let t=new Vi;return N(xt)==="browser"&&(t.store=kA(qc(),N(Hc))),t}var Vi=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=B({token:e,providedIn:"root",factory:OA});let t=e;return t})();function kA(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Q_="h",Y_="b",ph=function(t){return t.FirstChild="f",t.NextSibling="n",t}(ph||{}),LA="e",FA="t",Zh="c",J_="x",Dc="r",VA="i",UA="n",Z_="d";var jA="__nghData__",X_=jA,$d="ngh",BA="nghm",ew=()=>null;function $A(t,e,n=!1){let r=t.getAttribute($d);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",c=n?i:o,u={};if(r!==""){let f=e.get(Vi,null,{optional:!0});f!==null&&(u=f.get(X_,[])[Number(r)])}let d={data:u,firstChild:t.firstChild??null};return n&&(d.firstChild=t,Gc(d,0,t.nextSibling)),c?t.setAttribute($d,c):t.removeAttribute($d),d}function zA(){ew=$A}function Xh(t,e,n=!1){return ew(t,e,n)}function qA(t){let e=t._lView;return e[K].type===2?null:(vc(e)&&(e=e[gt]),e)}function HA(t){return t.textContent?.replace(/\s/gm,"")}function GA(t){let e=qc(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=HA(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Gc(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function gh(t,e){return t.segmentHeads?.[e]??null}function WA(t,e){let n=t.data,r=n[LA]?.[e]??null;return r===null&&n[Zh]?.[e]&&(r=ef(t,e)),r}function tw(t,e){return t.data[Zh]?.[e]??null}function ef(t,e){let n=tw(t,e)??[],r=0;for(let i of n)r+=i[Dc]*(i[J_]??1);return r}function KA(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[Z_];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function lo(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Z_];t.disconnectedNodes=n?new Set(n):null}return!!KA(t)?.has(e)}var ec=new V(""),nw=!1,rw=new V("",{providedIn:"root",factory:()=>nw});var tc;function QA(){if(tc===void 0&&(tc=null,Gd.trustedTypes))try{tc=Gd.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tc}function fI(t){return QA()?.createScriptURL(t)||t}var bc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AI})`}};function Wc(t){return t instanceof bc?t.changingThisBreaksApplicationSecurity:t}function tf(t,e){let n=YA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${AI})`)}return n===e}function YA(t){return t instanceof bc&&t.getTypeName()||null}var JA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iw(t){return t=String(t),t.match(JA)?t:"unsafe:"+t}var Kc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Kc||{});function ZA(t){let e=ow();return e?e.sanitize(Kc.URL,t)||"":tf(t,"URL")?Wc(t):iw(Lc(t))}function XA(t){let e=ow();if(e)return fI(e.sanitize(Kc.RESOURCE_URL,t)||"");if(tf(t,"ResourceURL"))return fI(Wc(t));throw new U(904,!1)}function eR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?XA:ZA}function sw(t,e,n){return eR(e,n)(t)}function ow(){let t=be();return t&&t[Kt].sanitizer}var tR=/^>|^->|<!--|-->|--!>|<!-$/g,nR=/(<|>)/g,rR="\u200B$1\u200B";function iR(t){return t.replace(tR,e=>e.replace(nR,rR))}function sR(t){return t.ownerDocument.body}function aw(t){return t instanceof Function?t():t}function nc(t){return(t??N(rt)).get(xt)==="browser"}var xr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xr||{}),oR;function nf(t,e){return oR(t,e)}function bi(t,e,n,r,i){if(r!=null){let s,o=!1;Yt(r)?s=r:jt(r)&&(o=!0,r=r[pt]);let c=Bt(r);t===0&&n!==null?i==null?fw(e,n,c):Cc(e,n,c,i||null,!0):t===1&&n!==null?Cc(e,n,c,i||null,!0):t===2?of(e,c,o):t===3&&e.destroyNode(c),s!=null&&wR(e,t,s,n,i)}}function cw(t,e){return t.createText(e)}function aR(t,e,n){t.setValue(e,n)}function uw(t,e){return t.createComment(iR(e))}function rf(t,e,n){return t.createElement(e,n)}function cR(t,e){lw(t,e),e[pt]=null,e[$t]=null}function uR(t,e,n,r,i,s){r[pt]=i,r[$t]=e,Qc(t,r,n,1,i,s)}function lw(t,e){e[Kt].changeDetectionScheduler?.notify(9),Qc(t,e,e[Ae],2,null,null)}function lR(t){let e=t[eo];if(!e)return zd(t[K],t);for(;e;){let n=null;if(jt(e))n=e[eo];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[Ut]&&e!==t;)jt(e)&&zd(e[K],e),e=e[qe];e===null&&(e=t),jt(e)&&zd(e[K],e),n=e&&e[Ut]}e=n}}function dR(t,e,n,r){let i=ot+r,s=n.length;r>0&&(n[i-1][Ut]=e),r<s-ot?(e[Ut]=n[i],FI(n,ot+r,e)):(n.push(e),e[Ut]=null),e[qe]=n;let o=e[Cr];o!==null&&n!==o&&dw(o,e);let c=e[pn];c!==null&&c.insertView(t),nh(e),e[H]|=128}function dw(t,e){let n=t[Ni],r=e[qe];if(jt(r))t[H]|=yc.HasTransplantedViews;else{let i=r[qe][Rt];e[Rt]!==i&&(t[H]|=yc.HasTransplantedViews)}n===null?t[Ni]=[e]:n.push(e)}function sf(t,e){let n=t[Ni],r=n.indexOf(e);n.splice(r,1)}function mh(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[Cr];i!==null&&i!==t&&sf(i,r),e>0&&(t[n-1][Ut]=r[Ut]);let s=fc(t,ot+e);cR(r[K],r);let o=s[pn];o!==null&&o.detachView(s[K]),r[qe]=null,r[Ut]=null,r[H]&=-129}return r}function hw(t,e){if(!(e[H]&256)){let n=e[Ae];n.destroyNode&&Qc(t,e,n,3,null,null),lR(e)}}function zd(t,e){if(e[H]&256)return;let n=le(null);try{e[H]&=-129,e[H]|=256,e[St]&&fd(e[St]),fR(t,e),hR(t,e),e[K].type===1&&e[Ae].destroy();let r=e[Cr];if(r!==null&&Yt(e[qe])){r!==e[qe]&&sf(r,e);let i=e[pn];i!==null&&i.detachView(t)}hh(e)}finally{le(n)}}function hR(t,e){let n=t.cleanup,r=e[gc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[gc]=null);let i=e[qn];if(i!==null){e[qn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function fR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof no)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];qt(4,c,u);try{u.call(c)}finally{qt(5,c,u)}}else{qt(4,i,s);try{s.call(i)}finally{qt(5,i,s)}}}}}function pR(t,e,n){return gR(t,e.parent,n)}function gR(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[pt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Gt.None||s===Gt.Emulated)return null}return Mt(r,n)}}function Cc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fw(t,e,n){t.appendChild(e,n)}function pI(t,e,n,r,i){r!==null?Cc(t,e,n,r,i):fw(t,e,n)}function pw(t,e){return t.parentNode(e)}function mR(t,e){return t.nextSibling(e)}function yR(t,e,n){return IR(t,e,n)}function vR(t,e,n){return t.type&40?Mt(t,n):null}var IR=vR,gI;function gw(t,e,n,r){let i=pR(t,r,e),s=e[Ae],o=r.parent||e[$t],c=yR(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)pI(s,i,n[u],c,!1);else pI(s,i,n,c,!1);gI!==void 0&&gI(s,r,e,n,i)}function Ks(t,e){if(e!==null){let n=e.type;if(n&3)return Mt(e,t);if(n&4)return yh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ks(t,r);{let i=t[e.index];return Yt(i)?yh(-1,i):Bt(i)}}else{if(n&128)return Ks(t,e.next);if(n&32)return nf(e,t)()||Bt(t[e.index]);{let r=mw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Sr(t[Rt]);return Ks(i,r)}else return Ks(t,e.next)}}}return null}function mw(t,e){if(e!==null){let r=t[Rt][$t],i=e.projection;return r.projection[i]}return null}function yh(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[K].firstChild;if(i!==null)return Ks(r,i)}return e[gn]}function of(t,e,n){t.removeChild(null,e,n)}function yw(t){t.textContent=""}function af(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&xi(Bt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)af(t,e,n.child,r,i,s,!1),bi(e,t,i,c,s);else if(u&32){let d=nf(n,r),f;for(;f=d();)bi(e,t,i,f,s);bi(e,t,i,c,s)}else u&16?_R(t,e,r,n,i,s):bi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Qc(t,e,n,r,i,s){af(n,r,t.firstChild,e,i,s,!1)}function _R(t,e,n,r,i,s){let o=n[Rt],u=o[$t].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];bi(e,t,i,f,s)}else{let d=u,f=o[qe];Tc(r)&&(d.flags|=128),af(t,e,d,f,i,s,!0)}}function wR(t,e,n,r,i){let s=n[gn],o=Bt(n);s!==o&&bi(e,t,r,s,i);for(let c=ot;c<n.length;c++){let u=n[c];Qc(u[K],u,t,e,r,s)}}function ER(t,e,n){t.setAttribute(e,"style",n)}function vw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Iw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Yd(t,e,r),i!==null&&vw(t,e,i),s!==null&&ER(t,e,s)}var Yc={};function _w(t=1){ww(Kn(),be(),qh()+t,!1)}function ww(t,e,n,r){if(!r)if((e[H]&3)===3){let s=t.preOrderCheckHooks;s!==null&&oc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ac(e,s,0,n)}Ar(n)}function He(t,e=Y.Default){let n=be();if(n===null)return J(t,e);let r=ct();return O_(r,n,Ct(t),e)}function Ew(t,e,n,r,i,s){let o=le(null);try{let c=null;i&Hn.SignalBased&&(c=e[r][hv]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Hn.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):n_(e,c,r,s)}finally{le(o)}}function TR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ar(~i);else{let s=i,o=n[++r],c=n[++r];QS(o,s);let u=e[s];c(2,u)}}}finally{Ar(-1)}}function Jc(t,e,n,r,i,s,o,c,u,d,f){let g=e.blueprint.slice();return g[pt]=i,g[H]=r|4|128|8|64,(d!==null||t&&t[H]&2048)&&(g[H]|=2048),a_(g),g[qe]=g[ao]=t,g[fn]=n,g[Kt]=o||t&&t[Kt],g[Ae]=c||t&&t[Ae],g[Ri]=u||t&&t[Ri]||null,g[$t]=s,g[Uc]=MA(),g[Wt]=f,g[ZI]=d,g[Rt]=e.type==2?t[Rt]:g,g}function cf(t,e,n,r,i){let s=t.data[e];if(s===null)s=DR(t,e,n,r,i),KS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=HS();s.injectorIndex=o===null?-1:o.injectorIndex}return zc(s,!0),s}function DR(t,e,n,r,i){let s=h_(),o=f_(),c=o?s:s&&s.parent,u=t.data[e]=PR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function Tw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Dw(t,e,n,r,i){let s=qh(),o=r&2;try{Ar(-1),o&&e.length>gt&&ww(t,e,gt,!1),qt(o?2:0,i),n(r,i)}finally{Ar(s),qt(o?3:1,i)}}function bw(t,e,n){if(e_(e)){let r=le(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{le(r)}}}function bR(t,e,n){d_()&&(VR(t,e,n,Mt(n,e)),(n.flags&64)===64&&Nw(t,e,n))}function CR(t,e,n=Mt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function Cw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Sw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sw(t,e,n,r,i,s,o,c,u,d,f){let g=gt+r,I=g+i,E=SR(g,I),A=typeof d=="function"?d():d;return E[K]={type:t,blueprint:E,template:n,queries:null,viewQuery:c,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function SR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yc);return n}function AR(t,e,n,r){let s=r.get(rw,nw)||n===Gt.ShadowDom,o=t.selectRootElement(e,s);return RR(o),o}function RR(t){Aw(t)}var Aw=()=>null;function NR(t){z_(t)?yw(t):GA(t)}function MR(){Aw=NR}function xR(t,e,n,r){let i=xw(e);i.push(n),t.firstCreatePass&&Pw(t).push(r,i.length-1)}function PR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return uo()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function mI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Hn.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?yI(r,n,d,c,u):yI(r,n,d,c)}return r}function yI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function OR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let g=s[f],I=n?n.get(g):null,E=I?I.inputs:null,A=I?I.outputs:null;u=mI(0,g.inputs,f,u,E),d=mI(1,g.outputs,f,d,A);let x=u!==null&&o!==null&&!Fh(e)?QR(u,f,o):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function kR(t,e,n,r){if(d_()){let i=r===null?null:{"":-1},s=jR(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&Rw(t,e,n,o,i,c),i&&BR(n,r,i)}n.mergedAttrs=Lh(n.mergedAttrs,n.attrs)}function Rw(t,e,n,r,i,s){for(let d=0;d<r.length;d++)cA(N_(n,e),t,r[d].type);zR(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=Tw(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=Lh(n.mergedAttrs,f.hostAttrs),qR(t,n,e,u,f),$R(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}OR(t,n,s)}function LR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;FR(o)!=c&&o.push(c),o.push(n,r,s)}}function FR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function VR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;jc(n)&&HR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||N_(n,e),xi(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],d=Mi(e,t,c,n);if(xi(d,e),o!==null&&KR(e,c-i,d,u,n,o),co(u)){let f=Nr(n.index,e);f[fn]=Mi(e,t,c,n)}}}function Nw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=YS();try{Ar(s);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];rh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&UR(u,d)}}finally{Ar(-1),rh(o)}}function UR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function jR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(cS(e,o.selectors,!1))if(r||(r=[]),co(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;vh(t,e,u)}else r.unshift(o),vh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function vh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new U(-301,!1);r.push(e[i],s)}}}function $R(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;co(e)&&(n[""]=t)}}function zR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ai(i.type,!0)),o=new no(s,co(i),He);t.blueprint[r]=o,n[r]=o,LR(t,e,r,Tw(t,n,i.hostVars,Yc),i)}function HR(t,e,n){let r=Mt(e,t),i=Cw(n),s=t[Kt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=uf(t,Jc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function GR(t,e,n,r,i,s){let o=Mt(t,e);WR(e[Ae],o,s,t.value,n,r,i)}function WR(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Lc(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function KR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],d=o[c++],f=o[c++],g=o[c++];Ew(r,n,u,d,f,g)}}function QR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function YR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Mw(t,e){let n=t.contentQueries;if(n!==null){let r=le(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Bh(s),c.contentQueries(2,e[o],o)}}}finally{le(r)}}}function uf(t,e){return t[eo]?t[eI][Ut]=e:t[eo]=e,t[eI]=e,e}function Ih(t,e,n){Bh(0);let r=le(null);try{e(t,n)}finally{le(r)}}function xw(t){return t[gc]??=[]}function Pw(t){return t.cleanup??=[]}function Ow(t,e){let n=t[Ri],r=n?n.get(mn,null):null;r&&r.handleError(e)}function kw(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],d=e[o],f=t.data[o];Ew(f,d,r,c,u,i)}}function JR(t,e,n){let r=kS(e,t);aR(t[Ae],r,n)}function ZR(t,e){let n=Nr(e,t),r=n[K];XR(r,n);let i=n[pt];i!==null&&n[Wt]===null&&(n[Wt]=Xh(i,n[Ri])),lf(r,n,n[fn])}function XR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lf(t,e,n){$h(e);try{let r=t.viewQuery;r!==null&&Ih(1,r,n);let i=t.template;i!==null&&Dw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[pn]?.finishViewCreation(t),t.staticContentQueries&&Mw(t,e),t.staticViewQueries&&Ih(2,t.viewQuery,n);let s=t.components;s!==null&&eN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[H]&=-5,zh()}}function eN(t,e){for(let n=0;n<e.length;n++)ZR(t,e[n])}function tN(t,e,n,r){let i=le(null);try{let s=e.tView,c=t[H]&4096?4096:16,u=Jc(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[Cr]=d;let f=t[pn];return f!==null&&(u[pn]=f.createEmbeddedView(s)),lf(s,u,n),u}finally{le(i)}}function vI(t,e){return!e||e.firstChild===null||Tc(t)}function nN(t,e,n,r=!0){let i=e[K];if(dR(i,e,t,n),r){let o=yh(n,t),c=e[Ae],u=pw(c,t[gn]);u!==null&&uR(i,t[$t],c,e,u,o)}let s=e[Wt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Sc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Bt(s)),Yt(s)&&rN(s,r);let o=n.type;if(o&8)Sc(t,e,n.child,r);else if(o&32){let c=nf(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=mw(e,n);if(Array.isArray(c))r.push(...c);else{let u=Sr(e[Rt]);Sc(u[K],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function rN(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[K].firstChild;i!==null&&Sc(r[K],r,i,e)}t[gn]!==t[pt]&&e.push(t[gn])}var Lw=[];function iN(t){return t[St]??sN(t)}function sN(t){let e=Lw.pop()??Object.create(aN);return e.lView=t,e}function oN(t){t.lView[St]!==t&&(t.lView=null,Lw.push(t))}var aN=ve(k({},ld),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$c(t.lView)},consumerOnSignalRead(){this.lView[St]=this}});function cN(t){let e=t[St]??Object.create(uN);return e.lView=t,e}var uN=ve(k({},ld),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Sr(t.lView);for(;e&&!Fw(e[K]);)e=Sr(e);e&&c_(e)},consumerOnSignalRead(){this.lView[St]=this}});function Fw(t){return t.type!==2}var lN=100;function Vw(t,e=!0,n=0){let r=t[Kt],i=r.rendererFactory,s=!1;s||i.begin?.();try{dN(t,n)}catch(o){throw e&&Ow(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function dN(t,e){let n=p_();try{rI(!0),_h(t,e);let r=0;for(;Bc(t);){if(r===lN)throw new U(103,!1);r++,_h(t,1)}}finally{rI(n)}}function hN(t,e,n,r){let i=e[H];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Kt].inlineEffectRunner?.flush(),$h(e);let c=!0,u=null,d=null;s||(Fw(t)?(d=iN(e),u=dd(d)):fv()===null?(c=!1,d=cN(e),u=dd(d)):e[St]&&(fd(e[St]),e[St]=null));try{a_(e),WS(t.bindingStartIndex),n!==null&&Dw(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let E=t.preOrderCheckHooks;E!==null&&oc(e,E,null)}else{let E=t.preOrderHooks;E!==null&&ac(e,E,0,null),Vd(e,0)}if(o||fN(e),Uw(e,0),t.contentQueries!==null&&Mw(t,e),!s)if(f){let E=t.contentCheckHooks;E!==null&&oc(e,E)}else{let E=t.contentHooks;E!==null&&ac(e,E,1),Vd(e,1)}TR(t,e);let g=t.components;g!==null&&Bw(e,g,0);let I=t.viewQuery;if(I!==null&&Ih(2,I,r),!s)if(f){let E=t.viewCheckHooks;E!==null&&oc(e,E)}else{let E=t.viewHooks;E!==null&&ac(e,E,2),Vd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Fd]){for(let E of e[Fd])E();e[Fd]=null}s||(e[H]&=-73)}catch(f){throw s||$c(e),f}finally{d!==null&&(pv(d,u),c&&oN(d)),zh()}}function Uw(t,e){for(let n=H_(t);n!==null;n=G_(n))for(let r=ot;r<n.length;r++){let i=n[r];jw(i,e)}}function fN(t){for(let e=H_(t);e!==null;e=G_(e)){if(!(e[H]&yc.HasTransplantedViews))continue;let n=e[Ni];for(let r=0;r<n.length;r++){let i=n[r];c_(i)}}}function pN(t,e,n){let r=Nr(e,t);jw(r,n)}function jw(t,e){jh(t)&&_h(t,e)}function _h(t,e){let r=t[K],i=t[H],s=t[St],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&hd(s)),o||=!1,s&&(s.dirty=!1),t[H]&=-9217,o)hN(r,t,r.template,t[fn]);else if(i&8192){Uw(t,1);let c=r.components;c!==null&&Bw(t,c,1)}}function Bw(t,e,n){for(let r=0;r<e.length;r++)pN(t,e[r],n)}function df(t,e){let n=p_()?64:1088;for(t[Kt].changeDetectionScheduler?.notify(e);t;){t[H]|=n;let r=Sr(t);if(vc(t)&&!r)return t;t=r}return null}var Rr=class{get rootNodes(){let e=this._lView,n=e[K];return Sc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return(this._lView[H]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qe];if(Yt(e)){let n=e[mc],r=n?n.indexOf(this):-1;r>-1&&(mh(e,r),fc(n,r))}this._attachedToViewContainer=!1}hw(this._lView[K],this._lView)}onDestroy(e){u_(this._lView,e)}markForCheck(){df(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[H]&=-129}reattach(){nh(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,Vw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vc(this._lView),n=this._lView[Cr];n!==null&&!e&&sf(n,this._lView),lw(this._lView[K],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=vc(this._lView),r=this._lView[Cr];r!==null&&!n&&dw(r,this._lView),nh(this._lView)}},ro=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yN;let t=e;return t})(),gN=ro,mN=class extends gN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=tN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Rr(i)}};function yN(){return hf(ct(),be())}function hf(t,e){return t.type&4?new mN(e,t,Fi(t,e)):null}var vN=new RegExp(`^(\\d+)*(${Y_}|${Q_})*(.*)`);function IN(t){let e=t.match(vN),[n,r,i,s]=e,o=r?parseInt(r,10):i,c=[];for(let[u,d,f]of s.matchAll(/(f|n)(\d*)/g)){let g=parseInt(f,10)||1;c.push(d,g)}return[o,...c]}function _N(t){return!t.prev&&t.parent?.type===8}function qd(t){return t.index-gt}function wN(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Zc(t,e,n,r){let i=qd(r),s=wN(t,i);if(s===void 0){let o=t.data[UA];if(o?.[i])s=TN(o[i],n);else if(e.firstChild===r)s=t.firstChild;else{let c=r.prev===null,u=r.prev??r.parent;if(_N(r)){let d=qd(r.parent);s=gh(t,d)}else{let d=Mt(u,n);if(c)s=d.firstChild;else{let f=qd(u),g=gh(t,f);if(u.type===2&&g){let E=ef(t,f)+1;s=Xc(E,g)}else s=d.nextSibling}}}}return s}function Xc(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function EN(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case ph.FirstChild:n=n.firstChild;break;case ph.NextSibling:n=n.nextSibling;break}}return n}function TN(t,e){let[n,...r]=IN(t),i;if(n===Q_)i=e[Rt][pt];else if(n===Y_)i=sR(e[Rt][pt]);else{let s=Number(n);i=Bt(e[s+gt])}return EN(i,r)}var DN=!1;function bN(t){DN=t}function CN(t){let e=t[Wt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[Ae];for(let s of r.values())SN(i,n,s)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function SN(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-gt);i&&of(t,i,!1)}}function $w(t){let e=t[to]??[],r=t[qe][Ae];for(let i of e)AN(i,r);t[to]=Tr}function AN(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Dc];for(;n<i;){let s=r.nextSibling;of(e,r,!1),r=s,n++}}}function zw(t){$w(t);let e=t[pt];jt(e)&&Ac(e);for(let n=ot;n<t.length;n++)Ac(t[n])}function Ac(t){CN(t);let e=t[K];for(let n=gt;n<e.bindingStartIndex;n++)if(Yt(t[n])){let r=t[n];zw(r)}else jt(t[n])&&Ac(t[n])}function RN(t){let e=t._views;for(let n of e){let r=qA(n);r!==null&&r[pt]!==null&&(jt(r)?Ac(r):zw(r))}}function NN(t,e){let n=[];for(let r of e)for(let i=0;i<(r[J_]??1);i++){let s={data:r,firstChild:null};r[Dc]>0&&(s.firstChild=t,t=Xc(r[Dc],t)),n.push(s)}return[t,n]}var qw=()=>null;function MN(t,e){let n=t[to];return!e||n===null||n.length===0?null:n[0].data[VA]===e?n.shift():($w(t),null)}function xN(){qw=MN}function II(t,e){return qw(t,e)}var Pi=class{},ff=new V("",{providedIn:"root",factory:()=>!1});var Hw=new V(""),Gw=new V(""),wh=class{},Rc=class{};function PN(t){let e=Error(`No component factory found for ${ft(t)}.`);return e[ON]=t,e}var ON="ngComponent";var Eh=class{resolveComponentFactory(e){throw PN(e)}},wf=class wf{};wf.NULL=new Eh;var Oi=wf,ki=class{},ho=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>kN();let t=e;return t})();function kN(){let t=be(),e=ct(),n=Nr(e.index,t);return(jt(n)?n:t)[Ae]}var LN=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Th(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=qv(i,c);else if(s==2){let u=c,d=e[++o];r=qv(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Nc=class extends Oi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=br(e);return new io(n,this.ngModule)}};function _I(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:Hn.None;e?n.push({propName:o,templateName:r,isSignal:(c&Hn.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function FN(t){let e=t.toLowerCase();return e==="svg"?PS:e==="math"?OS:null}var io=class extends Rc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=_I(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return _I(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=hS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=le(null);try{i=i||this.ngModule;let o=i instanceof At?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new ih(e,o):e,u=c.get(ki,null);if(u===null)throw new U(407,!1);let d=c.get(LN,null),f=c.get(Pi,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},I=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",A=r?AR(I,r,this.componentDef.encapsulation,c):rf(I,E,FN(E)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let P=null;A!==null&&(P=Xh(A,c,!0));let F=Sw(0,null,null,1,0,null,null,null,null,null,null),z=Jc(null,F,null,x,null,null,g,I,c,null,P);$h(z);let W,ne,Pe=null;try{let ae=this.componentDef,w,m=null;ae.findHostDirectiveDefs?(w=[],m=new Map,ae.findHostDirectiveDefs(ae,w,m),w.push(ae)):w=[ae];let y=VN(z,A);Pe=UN(y,A,ae,w,z,g,I),ne=o_(F,gt),A&&$N(I,ae,A,r),n!==void 0&&zN(ne,this.ngContentSelectors,n),W=BN(Pe,ae,w,m,z,[qN]),lf(F,z,null)}catch(ae){throw Pe!==null&&hh(Pe),hh(z),ae}finally{zh()}return new Dh(this.componentType,W,Fi(ne,z),z,ne)}finally{le(s)}}},Dh=class extends wh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Rr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;kw(s[K],s,i,e,n),this.previousInputValues.set(e,n);let o=Nr(this._tNode.index,s);df(o,1)}}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function VN(t,e){let n=t[K],r=gt;return t[r]=e,cf(n,r,2,"#host",null)}function UN(t,e,n,r,i,s,o){let c=i[K];jN(r,t,e,o);let u=null;e!==null&&(u=Xh(e,i[Ri]));let d=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Jc(i,Cw(n),null,f,i[t.index],t,s,d,null,null,u);return c.firstCreatePass&&vh(c,t,r.length-1),uf(i,g),i[t.index]=g}function jN(t,e,n,r){for(let i of t)e.mergedAttrs=Lh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Th(e,e.mergedAttrs,!0),n!==null&&Iw(r,n,e))}function BN(t,e,n,r,i,s){let o=ct(),c=i[K],u=Mt(o,i);Rw(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,I=Mi(i,c,g,o);xi(I,i)}Nw(c,i,o),u&&xi(u,i);let d=Mi(i,c,o.directiveStart+o.componentOffset,o);if(t[fn]=i[fn]=d,s!==null)for(let f of s)f(d,e);return bw(c,o,i),d}function $N(t,e,n,r){if(r)Yd(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=fS(e.selectors[0]);i&&Yd(t,n,i),s&&s.length>0&&vw(t,n,s.join(" "))}}function zN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function qN(){let t=ct();b_(be()[K],t)}var Ui=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HN;let t=e;return t})();function HN(){let t=ct();return Kw(t,be())}var GN=Ui,Ww=class extends GN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Fi(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hh(this._hostTNode,this._hostLView);if(S_(e)){let n=_c(e,this._hostLView),r=Ic(e),i=n[K].data[r+8];return new Er(i,n)}else return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=wI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=II(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,vI(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!RS(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new io(br(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let x=(o?d:this.parentInjector).get(At,null);x&&(s=x)}let f=br(u.componentType??{}),g=II(this._lContainer,f?.id??null),I=g?.firstChild??null,E=u.create(d,i,I,s);return this.insertImpl(E.hostView,c,vI(this._hostTNode,g)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(FS(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[qe],d=new Ww(u,u[$t],u[qe]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return nN(o,i,s,r),e.attachToViewContainerRef(),FI(Hd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=wI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=mh(this._lContainer,n);r&&(fc(Hd(this._lContainer),n),hw(r[K],r))}detach(e){let n=this._adjustIndex(e,-1),r=mh(this._lContainer,n);return r&&fc(Hd(this._lContainer),n)!=null?new Rr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function wI(t){return t[mc]}function Hd(t){return t[mc]||(t[mc]=[])}function Kw(t,e){let n,r=e[t.index];return Yt(r)?n=r:(n=YR(r,e,null,t),e[t.index]=n,uf(e,n)),Qw(n,e,t,r),new Ww(n,t,e)}function WN(t,e){let n=t[Ae],r=n.createComment(""),i=Mt(e,t),s=pw(n,i);return Cc(n,s,r,mR(n,i),!1),r}var Qw=Jw,Yw=()=>!1;function Jw(t,e,n,r){if(t[gn])return;let i;n.type&8?i=Bt(r):i=WN(e,n),t[gn]=i}function KN(t,e,n){if(t[gn]&&t[to])return!0;let r=n[Wt],i=e.index-gt;if(!r||RA(e)||lo(r,i))return!1;let o=gh(r,i),c=r.data[Zh]?.[i],[u,d]=NN(o,c);return t[gn]=u,t[to]=d,!0}function QN(t,e,n,r){Yw(t,n,e)||Jw(t,e,n,r)}function YN(){Qw=QN,Yw=KN}var bh=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ch=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)pf(e,n).matches!==null&&this.queries[n].setDirty()}},Sh=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=iM(e):this.predicate=e}},Ah=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Rh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,JN(n,s)),this.matchTNodeWithReadOption(e,n,cc(n,e,s,!1,!1))}else r===ro?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,cc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===yn||i===Ui||i===ro&&n.type&4)this.addMatch(n.index,-2);else{let s=cc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function JN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function ZN(t,e){return t.type&11?Fi(t,e):t.type&4?hf(t,e):null}function XN(t,e,n,r){return n===-1?ZN(e,t):n===-2?eM(t,e,r):Mi(t,t[K],n,e)}function eM(t,e,n){if(n===yn)return Fi(e,t);if(n===ro)return hf(e,t);if(n===Ui)return Kw(e,t)}function Zw(t,e,n,r){let i=e[pn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let d=o[u];if(d<0)c.push(null);else{let f=s[d];c.push(XN(e,f,o[u+1],n.metadata.read))}}i.matches=c}return i.matches}function Nh(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=Zw(t,e,i,n);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let d=s[c+1],f=e[-u];for(let g=ot;g<f.length;g++){let I=f[g];I[Cr]===I[qe]&&Nh(I[K],I,d,r)}if(f[Ni]!==null){let g=f[Ni];for(let I=0;I<g.length;I++){let E=g[I];Nh(E[K],E,d,r)}}}}}return r}function tM(t,e){return t[pn].queries[e].queryList}function nM(t,e,n){let r=new dh((n&4)===4);return xR(t,e,r,r.destroy),(e[pn]??=new Ch).queries.push(new bh(r))-1}function rM(t,e,n,r){let i=Kn();if(i.firstCreatePass){let s=ct();sM(i,new Sh(e,n,r),s.index),oM(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return nM(i,be(),n)}function iM(t){return t.split(",").map(e=>e.trim())}function sM(t,e,n){t.queries===null&&(t.queries=new Ah),t.queries.track(new Rh(e,n))}function oM(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function pf(t,e){return t.queries.getByIndex(e)}function aM(t,e){let n=t[K],r=pf(n,e);return r.crossesNgTemplate?Nh(n,t,e,[]):Zw(n,t,r,e)}var EI=new Set;function ji(t){EI.has(t)||(EI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Gn=class{},so=class{};var Mh=class extends Gn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nc(this);let s=GI(e);this._bootstrapComponents=aw(s.bootstrap),this._r3Injector=F_(e,n,[{provide:Gn,useValue:this},{provide:Oi,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xh=class extends so{constructor(e){super(),this.moduleType=e}create(e){return new Mh(this.moduleType,e,[])}};var Mc=class extends Gn{constructor(e){super(),this.componentFactoryResolver=new Nc(this),this.instance=null;let n=new Xs([...e.providers,{provide:Gn,useValue:this},{provide:Oi,useValue:this.componentFactoryResolver}],e.parent||Uh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function mf(t,e,n=null){return new Mc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Xw(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function fo(t){return(t.flags&32)===32}var cM=eE;function eE(t,e,n,r){return Qn(!0),e[Ae].createComment("")}function uM(t,e,n,r){let i=e[Wt],s=!i||uo()||fo(n)||lo(i,r);if(Qn(s),s)return eE(t,e,n,r);let o=i.data[FA]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let c=Zc(i,t,e,n);Gc(i,r,c);let u=ef(i,r);return Xc(u,c)}function lM(){cM=uM}var Qs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Qs||{}),dM=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),wr=class wr{constructor(){this.ngZone=N(he),this.scheduler=N(Pi),this.errorHandler=N(mn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of wr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};wr.PHASES=[Qs.EarlyRead,Qs.Write,Qs.MixedReadWrite,Qs.Read],wr.\u0275prov=B({token:wr,providedIn:"root",factory:()=>new wr});var TI=wr;function yf(t,e,n,r){let i=be(),s=g_();if(Xw(i,s,e)){let o=Kn(),c=ZS();GR(c,i,t,e,n,r)}return yf}function hM(t,e,n,r){return Xw(t,g_(),n)?e+Lc(n)+r:Yc}function DI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";kw(t,n,s[o],o,r)}function fM(t,e,n,r,i,s){let o=e.consts,c=nI(o,i),u=cf(e,t,2,r,c);return kR(e,n,u,nI(o,s)),u.attrs!==null&&Th(u,u.attrs,!1),u.mergedAttrs!==null&&Th(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Ie(t,e,n,r){let i=be(),s=Kn(),o=gt+t,c=i[Ae],u=s.firstCreatePass?fM(o,s,i,e,n,r):s.data[o],d=tE(s,i,u,c,e,t);i[o]=d;let f=t_(u);return zc(u,!0),Iw(c,d,u),!fo(u)&&D_()&&gw(s,i,d,u),US()===0&&xi(d,i),jS(),f&&(bR(s,i,u),bw(s,u,i)),r!==null&&CR(i,u),Ie}function _e(){let t=ct();f_()?GS():(t=t.parent,zc(t,!1));let e=t;$S(e)&&qS(),BS();let n=Kn();return n.firstCreatePass&&(b_(n,t),e_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&nA(e)&&DI(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rA(e)&&DI(n,e,be(),e.stylesWithoutHost,!1),_e}function Yn(t,e,n,r){return Ie(t,e,n,r),_e(),Yn}var tE=(t,e,n,r,i,s)=>(Qn(!0),rf(r,i,E_()));function pM(t,e,n,r,i,s){let o=e[Wt],c=!o||uo()||fo(n)||lo(o,s);if(Qn(c),c)return rf(r,i,E_());let u=Zc(o,t,e,n);return tw(o,s)&&Gc(o,s,u.nextSibling),o&&($_(n)||z_(u))&&jc(n)&&(zS(n),yw(u)),u}function gM(){tE=pM}var mM=(t,e,n,r)=>(Qn(!0),uw(e[Ae],""));function yM(t,e,n,r){let i,s=e[Wt],o=!s||uo()||lo(s,r)||fo(n);if(Qn(o),o)return uw(e[Ae],"");let c=Zc(s,t,e,n),u=WA(s,r);return Gc(s,r,c),i=Xc(u,c),i}function vM(){mM=yM}var xc="en-US";var IM=xc;function _M(t){typeof t=="string"&&(IM=t.toLowerCase().replace(/_/g,"-"))}var wM=(t,e,n)=>{};function Bi(t,e,n,r){let i=be(),s=Kn(),o=ct();return TM(s,i,i[Ae],o,t,e,r),Bi}function EM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[gc],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function TM(t,e,n,r,i,s,o){let c=t_(r),d=t.firstCreatePass&&Pw(t),f=e[fn],g=xw(e),I=!0;if(r.type&3||o){let x=Mt(r,e),P=o?o(x):x,F=g.length,z=o?ne=>o(Bt(ne[r.index])):r.index,W=null;if(!o&&c&&(W=EM(t,e,i,r.index)),W!==null){let ne=W.__ngLastListenerFn__||W;ne.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,I=!1}else{s=CI(r,e,f,s),wM(x,i,s);let ne=n.listen(P,i,s);g.push(s,ne),d&&d.push(i,z,F,F+1)}}else s=CI(r,e,f,s);let E=r.outputs,A;if(I&&E!==null&&(A=E[i])){let x=A.length;if(x)for(let P=0;P<x;P+=2){let F=A[P],z=A[P+1],Pe=e[F][z].subscribe(s),ae=g.length;g.push(s,Pe),d&&d.push(i,r.index,ae,-(ae+1))}}}function bI(t,e,n,r){let i=le(null);try{return qt(6,e,n),n(r)!==!1}catch(s){return Ow(t,s),!1}finally{qt(7,e,n),le(i)}}function CI(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Nr(t.index,e):e;df(o,5);let c=bI(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=bI(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function nE(t,e,n,r){rM(t,e,n,r)}function rE(t){let e=be(),n=Kn(),r=m_();Bh(r+1);let i=pf(n,r);if(t.dirty&&LS(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=aM(e,r);t.reset(s,bA),t.notifyOnChanges()}return!0}return!1}function iE(){return tM(be(),m_())}function Ce(t,e=""){let n=be(),r=Kn(),i=t+gt,s=r.firstCreatePass?cf(r,i,1,e,null):r.data[i],o=sE(r,n,s,e,t);n[i]=o,D_()&&gw(r,n,o,s),zc(s,!1)}var sE=(t,e,n,r,i)=>(Qn(!0),cw(e[Ae],r));function DM(t,e,n,r,i){let s=e[Wt],o=!s||uo()||fo(n)||lo(s,i);return Qn(o),o?cw(e[Ae],r):Zc(s,t,e,n)}function bM(){sE=DM}function vf(t){return oE("",t,""),vf}function oE(t,e,n){let r=be(),i=hM(r,t,e,n);return i!==Yc&&JR(r,qh(),i),oE}var CM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=QI(!1,r.type),s=i.length>0?mf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(J(At))});let t=e;return t})();function Jt(t){ji("NgStandalone"),t.getStandaloneInjector=e=>e.get(CM).getOrCreateStandaloneInjector(t)}var Wn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},aE=new Wn("18.2.3");var eu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var cE=new V("");function po(t){return!!t&&typeof t.then=="function"}function uE(t){return!!t&&typeof t.subscribe=="function"}var lE=new V(""),dE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=N(lE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(po(o))r.push(o);else if(uE(o)){let c=new Promise((u,d)=>{o.subscribe({complete:u,error:d})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$i=new V("");function SM(){gv(()=>{throw new U(600,!1)})}function AM(t){return t.isBoundToModule}var RM=10;function NM(t,e,n){try{let r=n();return po(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Zt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(TA),this.afterRenderManager=N(dM),this.zonelessEnabled=N(ff),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Je,this.afterTick=new Je,this.componentTypes=[],this.components=[],this.isStable=N(Mr).hasPendingTasks.pipe(X(r=>!r)),this._injector=N(At)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Rc;if(!this._injector.get(dE).done){let E=!s&&HI(r),A=!1;throw new U(405,A)}let c;s?c=r:c=this._injector.get(Oi).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=AM(c)?void 0:this._injector.get(Gn),d=i||c.selector,f=c.create(rt.NULL,[],d,u),g=f.location.nativeElement,I=f.injector.get(cE,null);return I?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),uc(this.components,f),I?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new U(101,!1);let r=le(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,le(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(ki,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<RM;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)MM(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Bc(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;uc(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get($i,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>uc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new U(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var rc;function tu(t){rc??=new WeakMap;let e=rc.get(t);if(e)return e;let n=t.isStable.pipe(Ft(r=>r)).toPromise().then(()=>{});return rc.set(t,n),t.onDestroy(()=>rc?.delete(t)),n}function MM(t,e,n,r){if(!n&&!Bc(t))return;Vw(t,e,n&&!r?0:1)}var Ph=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},If=(()=>{let e=class e{compileModuleSync(r){return new xh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=GI(r),o=aw(s.declarations).reduce((c,u)=>{let d=br(u);return d&&c.push(new io(d)),c},[]);return new Ph(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xM=(()=>{let e=class e{constructor(){this.zone=N(he),this.changeDetectionScheduler=N(Pi),this.applicationRef=N(Zt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PM=new V("",{factory:()=>!1});function hE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new he(ve(k({},pE()),{scheduleInRootZone:n})),[{provide:he,useFactory:t},{provide:Dr,multi:!0,useFactory:()=>{let r=N(xM,{optional:!0});return()=>r.initialize()}},{provide:Dr,multi:!0,useFactory:()=>{let r=N(OM);return()=>{r.initialize()}}},e===!0?{provide:Hw,useValue:!0}:[],{provide:Gw,useValue:n??V_}]}function fE(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=hE({ngZoneFactory:()=>{let i=pE(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ji("NgZone_CoalesceEvent"),new he(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return mt([{provide:PM,useValue:!0},{provide:ff,useValue:!1},r])}function pE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var OM=(()=>{let e=class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=N(he),this.pendingTasks=N(Mr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kM=(()=>{let e=class e{constructor(){this.appRef=N(Zt),this.taskService=N(Mr),this.ngZone=N(he),this.zonelessEnabled=N(ff),this.disableScheduling=N(Hw,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ee,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ec):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Gw,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?uI:j_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ec+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LM(){return typeof $localize<"u"&&$localize.locale||xc}var _f=new V("",{providedIn:"root",factory:()=>N(_f,Y.Optional|Y.SkipSelf)||LM()});var gE=new V("");function ic(t){return!!t.platformInjector}function FM(t){let e=ic(t)?t.r3Injector:t.moduleRef.injector,n=e.get(he);return n.run(()=>{ic(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(mn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),ic(t)){let s=()=>e.destroy(),o=t.platformInjector.get(gE);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{uc(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return NM(r,n,()=>{let s=e.get(dE);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(_f,xc);if(_M(o||xc),ic(t)){let c=e.get(Zt);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return VM(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function VM(t,e){let n=t.injector.get(Zt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}var lc=null;function UM(t=[],e){return rt.create({name:e,providers:[{provide:Vc,useValue:"platform"},{provide:gE,useValue:new Set([()=>lc=null])},...t]})}function jM(t=[]){if(lc)return lc;let e=UM(t);return lc=e,SM(),BM(e),e}function BM(t){t.get(Yh,null)?.forEach(n=>n())}var zi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$M;let t=e;return t})();function $M(t){return zM(ct(),be(),(t&16)===16)}function zM(t,e,n){if(jc(t)&&!n){let r=Nr(t.index,e);return new Rr(r,r)}else if(t.type&175){let r=e[Rt];return new Rr(r,e)}return null}function mE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=jM(r),s=[hE({}),{provide:Pi,useExisting:kM},...n||[]],o=new Mc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return FM({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var yE=new V("");var SI=!1;function qM(){SI||(SI=!0,zA(),gM(),bM(),vM(),lM(),YN(),xN(),MR())}function HM(t,e){return tu(t)}function vE(){return mt([{provide:ec,useFactory:()=>{let t=!0;return nc()&&(t=!!N(Vi,{optional:!0})?.get(X_,null)),t&&ji("NgHydration"),t}},{provide:Dr,useValue:()=>{bN(!1),nc()&&N(ec)&&(GM(),qM())},multi:!0},{provide:rw,useFactory:()=>nc()&&N(ec)},{provide:$i,useFactory:()=>{if(nc()&&N(ec)){let t=N(Zt),e=N(rt);return()=>{HM(t,e).then(()=>{RN(t)})}}return()=>{}},multi:!0}])}function GM(){let t=qc(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===BA){e=n;break}if(!e)throw new U(-507,!1)}function go(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var TE=null;function qi(){return TE}function DE(t){TE??=t}var nu=class{};var ut=new V(""),bE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(WM),providedIn:"platform"});let t=e;return t})();var WM=(()=>{let e=class e extends bE{constructor(){super(),this._doc=N(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qi().getBaseHref(this._doc)}onPopState(r){let i=qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function CE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function IE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pr(t){return t&&t[0]!=="?"?"?"+t:t}var Hi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(SE),providedIn:"root"});let t=e;return t})(),KM=new V(""),SE=(()=>{let e=class e extends Hi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return CE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+Pr(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+Pr(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(J(bE),J(KM,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mo=(()=>{let e=class e{constructor(r){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=JM(IE(_E(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pr(i))}normalize(r){return e.stripTrailingSlash(YM(this._basePath,_E(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pr,e.joinWithSlash=CE,e.stripTrailingSlash=IE,e.\u0275fac=function(i){return new(i||e)(J(Hi))},e.\u0275prov=B({token:e,factory:()=>QM(),providedIn:"root"});let t=e;return t})();function QM(){return new mo(J(Hi))}function YM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function _E(t){return t.replace(/\/index.html$/,"")}function JM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ef(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var AE="browser",ZM="server";function yo(t){return t===ZM}var ru=class{};var su=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var LE=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(LE||{}),Tf=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new su,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var ou=class t extends Tf{constructor(e={}){super(e),this.type=LE.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var ex=new V("");var tx=new V(""),RE="b",NE="h",ME="s",xE="st",PE="u",OE="rt",iu=new V(""),nx=["GET","HEAD"];function rx(t,e){let E=N(iu),{isCacheActive:n}=E,r=dv(E,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||i===!1||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!nx.includes(s)||!r.includeRequestsWithAuthHeaders&&ix(t)||r.filter?.(t)===!1)return e(t);let o=N(Vi),c=N(tx,{optional:!0}),u=yo(N(xt));if(c&&!u)throw new U(2803,!1);let d=u&&c?cx(t.url,c):t.url,f=ox(t,d),g=o.get(f,null),I=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(I=i.includeHeaders),g){let{[RE]:A,[OE]:x,[NE]:P,[ME]:F,[xE]:z,[PE]:W}=g,ne=A;switch(x){case"arraybuffer":ne=new TextEncoder().encode(A).buffer;break;case"blob":ne=new Blob([A]);break}let Pe=new su(P);return $(new ou({body:ne,headers:Pe,status:F,statusText:z,url:W}))}return e(t).pipe(De(A=>{A instanceof ou&&u&&o.set(f,{[RE]:A.body,[NE]:sx(A.headers,I),[ME]:A.status,[xE]:A.statusText,[PE]:d,[OE]:t.responseType})}))}function ix(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function sx(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function kE(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function ox(t,e){let{params:n,method:r,responseType:i}=t,s=kE(n),o=t.serializeBody();o instanceof URLSearchParams?o=kE(o):typeof o!="string"&&(o="");let c=[r,i,e,o,s].join("|"),u=ax(c);return u}function ax(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function FE(t){return[{provide:iu,useFactory:()=>(ji("NgHttpTransferCache"),k({isCacheActive:!0},t))},{provide:ex,useValue:rx,multi:!0,deps:[Vi,iu]},{provide:$i,multi:!0,useFactory:()=>{let e=N(Zt),n=N(iu);return()=>{tu(e).then(()=>{n.isCacheActive=!1})}}}]}function cx(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var Cf=class extends nu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sf=class t extends Cf{static makeCurrent(){DE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ux();return n==null?null:lx(n)}resetBaseElement(){vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ef(document.cookie,e)}},vo=null;function ux(){return vo=vo||document.querySelector("base"),vo?vo.getAttribute("href"):null}function lx(t){return new URL(t,document.baseURI).pathname}var dx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),au=new V(""),BE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(J(au),J(he))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Io=class{constructor(e){this._doc=e}},Df="ng-app-id",$E=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yo(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Df}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Df),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Df,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(J(ut),J(Hc),J(Jh,8),J(xt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),bf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Nf=/%COMP%/g,zE="%COMP%",hx=`_nghost-${zE}`,fx=`_ngcontent-${zE}`,px=!0,gx=new V("",{providedIn:"root",factory:()=>px});function mx(t){return fx.replace(Nf,t)}function yx(t){return hx.replace(Nf,t)}function qE(t,e){return e.map(n=>n.replace(Nf,t))}var VE=(()=>{let e=class e{constructor(r,i,s,o,c,u,d,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=yo(u),this.defaultRenderer=new _o(r,c,d,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Gt.ShadowDom&&(i=ve(k({},i),{encapsulation:Gt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof cu?s.applyToHost(r):s instanceof wo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,I=this.platformIsServer;switch(i.encapsulation){case Gt.Emulated:o=new cu(d,f,i,this.appId,g,c,u,I);break;case Gt.ShadowDom:return new Af(d,f,r,i,c,u,this.nonce,I);default:o=new wo(d,f,i,g,c,u,I);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(J(BE),J($E),J(Hc),J(gx),J(ut),J(xt),J(he),J(Jh))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),_o=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(bf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(UE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(UE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=bf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=bf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xr.DashCase|xr.Important)?e.style.setProperty(n,r,i&xr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=qi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function UE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Af=class extends _o{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=qE(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wo=class extends _o{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?qE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cu=class extends wo{constructor(e,n,r,i,s,o,c,u){let d=i+"-"+r.id;super(e,n,r,s,o,c,u,d),this.contentAttr=mx(d),this.hostAttr=yx(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},vx=(()=>{let e=class e extends Io{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(J(ut))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Ix=(()=>{let e=class e extends Io{constructor(r){super(r),this.delegate=N(yE,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(J(ut))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),jE=["alt","control","meta","shift"],_x={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Ex=(()=>{let e=class e extends Io{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qi().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),jE.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=s,d.fullKey=c,d}static matchEventFullKeyCode(r,i){let s=_x[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),jE.forEach(c=>{if(c!==s){let u=wx[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(J(ut))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function HE(t,e){return mE(k({rootComponent:t},Tx(e)))}function Tx(t){return{appProviders:[...Ax,...t?.providers??[]],platformProviders:Sx}}function Dx(){Sf.makeCurrent()}function bx(){return new mn}function Cx(){return K_(document),document}var Sx=[{provide:xt,useValue:AE},{provide:Yh,useValue:Dx,multi:!0},{provide:ut,useFactory:Cx,deps:[]}];var Ax=[{provide:Vc,useValue:"root"},{provide:mn,useFactory:bx,deps:[]},{provide:au,useClass:vx,multi:!0,deps:[ut,he,xt]},{provide:au,useClass:Ex,multi:!0,deps:[ut]},{provide:au,useClass:Ix,multi:!0},VE,$E,BE,{provide:ki,useExisting:VE},{provide:ru,useClass:dx,deps:[]},[]];var GE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(J(ut))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rf=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(Rf||{});function WE(...t){let e=[],n=new Set,r=n.has(Rf.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return mt([[],vE(),n.has(Rf.NoHttpTransferCache)||r?[]:FE({}),e])}var Q="primary",Fo=Symbol("RouteTitle"),kf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ji(t){return new kf(t)}function Nx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Mx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xt(t[n],e[n]))return!1;return!0}function Xt(t,e){let n=t?Lf(t):void 0,r=e?Lf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!tT(t[i],e[i]))return!1;return!0}function Lf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function tT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function nT(t){return t.length>0?t[t.length-1]:null}function Jn(t){return Nd(t)?t:po(t)?Te(Promise.resolve(t)):$(t)}var xx={exact:iT,subset:sT},rT={exact:Px,subset:Ox,ignored:()=>!0};function KE(t,e,n){return xx[n.paths](t.root,e.root,n.matrixParams)&&rT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Px(t,e){return Xt(t,e)}function iT(t,e,n){if(!kr(t.segments,e.segments)||!du(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!iT(t.children[r],e.children[r],n))return!1;return!0}function Ox(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tT(t[n],e[n]))}function sT(t,e,n){return oT(t,e,e.segments,n)}function oT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!kr(i,n)||e.hasChildren()||!du(i,n,r))}else if(t.segments.length===n.length){if(!kr(t.segments,n)||!du(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!sT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!kr(t.segments,i)||!du(t.segments,i,r)||!t.children[Q]?!1:oT(t.children[Q],e,s,r)}}function du(t,e,n){return e.every((r,i)=>rT[n](t[i].parameters,r.parameters))}var _n=class{constructor(e=new de([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ji(this.queryParams),this._queryParamMap}toString(){return Fx.serialize(this)}},de=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hu(this)}},Or=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ji(this.parameters),this._parameterMap}toString(){return cT(this)}};function kx(t,e){return kr(t,e)&&t.every((n,r)=>Xt(n.parameters,e[r].parameters))}function kr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Lx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Q&&(n=n.concat(e(i,r)))}),n}var cp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new Ao,providedIn:"root"});let t=e;return t})(),Ao=class{parse(e){let n=new Vf(e);return new _n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Eo(e.root,!0)}`,r=jx(e.queryParams),i=typeof e.fragment=="string"?`#${Vx(e.fragment)}`:"";return`${n}${r}${i}`}},Fx=new Ao;function hu(t){return t.segments.map(e=>cT(e)).join("/")}function Eo(t,e){if(!t.hasChildren())return hu(t);if(e){let n=t.children[Q]?Eo(t.children[Q],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Q&&r.push(`${i}:${Eo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Lx(t,(r,i)=>i===Q?[Eo(t.children[Q],!1)]:[`${i}:${Eo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Q]!=null?`${hu(t)}/${n[0]}`:`${hu(t)}/(${n.join("//")})`}}function aT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uu(t){return aT(t).replace(/%3B/gi,";")}function Vx(t){return encodeURI(t)}function Ff(t){return aT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fu(t){return decodeURIComponent(t)}function QE(t){return fu(t.replace(/\+/g,"%20"))}function cT(t){return`${Ff(t.path)}${Ux(t.parameters)}`}function Ux(t){return Object.entries(t).map(([e,n])=>`;${Ff(e)}=${Ff(n)}`).join("")}function jx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${uu(n)}=${uu(i)}`).join("&"):`${uu(n)}=${uu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Bx=/^[^\/()?;#]+/;function Mf(t){let e=t.match(Bx);return e?e[0]:""}var $x=/^[^\/()?;=#]+/;function zx(t){let e=t.match($x);return e?e[0]:""}var qx=/^[^=?&#]+/;function Hx(t){let e=t.match(qx);return e?e[0]:""}var Gx=/^[^&#]+/;function Wx(t){let e=t.match(Gx);return e?e[0]:""}var Vf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Q]=new de(e,n)),r}parseSegment(){let e=Mf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Or(fu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=zx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Mf(this.remaining);i&&(r=i,this.capture(r))}e[fu(n)]=fu(r)}parseQueryParam(e){let n=Hx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Wx(this.remaining);o&&(r=o,this.capture(r))}let i=QE(n),s=QE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Mf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Q);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Q]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function uT(t){return t.segments.length>0?new de([],{[Q]:t}):t}function lT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=lT(i);if(r===Q&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new de(t.segments,e);return Kx(n)}function Kx(t){if(t.numberOfChildren===1&&t.children[Q]){let e=t.children[Q];return new de(t.segments.concat(e.segments),e.children)}return t}function Lr(t){return t instanceof _n}function Qx(t,e,n=null,r=null){let i=dT(t);return hT(i,e,n,r)}function dT(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let c=new de(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=uT(r);return e??i}function hT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xf(i,i,i,n,r);let s=Yx(e);if(s.toRoot())return xf(i,i,new de([],{}),n,r);let o=Jx(s,i,t),c=o.processChildren?bo(o.segmentGroup,o.index,s.commands):pT(o.segmentGroup,o.index,s.commands);return xf(i,o.segmentGroup,c,n,r)}function pu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ro(t){return typeof t=="object"&&t!=null&&t.outlets}function xf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;t===e?o=n:o=fT(t,e,n);let c=uT(lT(o));return new _n(c,s,i)}function fT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=fT(s,e,n)}),new de(t.segments,r)}var gu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pu(r[0]))throw new U(4003,!1);let i=r.find(Ro);if(i&&i!==nT(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Yx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new gu(n,e,r)}var Ki=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Jx(t,e,n){if(t.isAbsolute)return new Ki(e,!0,0);if(!n)return new Ki(e,!1,NaN);if(n.parent===null)return new Ki(n,!0,0);let r=pu(t.commands[0])?0:1,i=n.segments.length-1+r;return Zx(n,i,t.numberOfDoubleDots)}function Zx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Ki(r,!1,i-s)}function Xx(t){return Ro(t[0])?t[0].outlets:{[Q]:t}}function pT(t,e,n){if(t??=new de([],{}),t.segments.length===0&&t.hasChildren())return bo(t,e,n);let r=eP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[Q]=new de(t.segments.slice(r.pathIndex),t.children),bo(s,0,i)}else return r.match&&i.length===0?new de(t.segments,{}):r.match&&!t.hasChildren()?Uf(t,e,n):r.match?bo(t,0,i):Uf(t,e,n)}function bo(t,e,n){if(n.length===0)return new de(t.segments,{});{let r=Xx(n),i={};if(Object.keys(r).some(s=>s!==Q)&&t.children[Q]&&t.numberOfChildren===1&&t.children[Q].segments.length===0){let s=bo(t.children[Q],e,n);return new de(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=pT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new de(t.segments,i)}}function eP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(Ro(c))break;let u=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!JE(u,d,o))return s;r+=2}else{if(!JE(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Uf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ro(s)){let u=tP(s.outlets);return new de(r,u)}if(i===0&&pu(n[0])){let u=t.segments[e];r.push(new Or(u.path,YE(n[0]))),i++;continue}let o=Ro(s)?s.outlets[Q]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&pu(c)?(r.push(new Or(o,YE(c))),i+=2):(r.push(new Or(o,{})),i++)}return new de(r,{})}function tP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Uf(new de([],{}),0,r))}),e}function YE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function JE(t,e,n){return t==n.path&&Xt(e,n.parameters)}var Co="imperative",Ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ge||{}),Pt=class{constructor(e,n){this.id=e,this.url=n}},No=class extends Pt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ge.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wn=class extends Pt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(vt||{}),jf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(jf||{}),In=class extends Pt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fr=class extends Pt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ge.NavigationSkipped}},Mo=class extends Pt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mu=class extends Pt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bf=class extends Pt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends Pt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zf=class extends Pt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends Pt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hf=class{constructor(e){this.route=e,this.type=Ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gf=class{constructor(e){this.route=e,this.type=Ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wf=class{constructor(e){this.snapshot=e,this.type=Ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kf=class{constructor(e){this.snapshot=e,this.type=Ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qf=class{constructor(e){this.snapshot=e,this.type=Ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{constructor(e){this.snapshot=e,this.type=Ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xo=class{},Zi=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function nP(t,e){return t.providers&&!t._injector&&(t._injector=mf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zt(t){return t.outlet||Q}function rP(t,e){let n=t.filter(r=>zt(r)===e);return n.push(...t.filter(r=>zt(r)!==e)),n}function Vo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Jf=class{get injector(){return Vo(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Du(this.rootInjector),this.attachRef=null}},Du=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Jf(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(J(At))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Zf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Zf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Xf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xf(e,this._root).map(n=>n.value)}};function Zf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Zf(t,n);if(r)return r}return null}function Xf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Xf(t,n);if(r.length)return r.unshift(e),r}return[]}var yt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Wi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var vu=class extends yu{constructor(e,n){super(e),this.snapshot=n,up(this,e)}toString(){return this.snapshot.toString()}};function gT(t){let e=iP(t),n=new $e([new Or("",{})]),r=new $e({}),i=new $e({}),s=new $e({}),o=new $e(""),c=new Vr(n,r,s,o,i,Q,t,e.root);return c.snapshot=e.root,new vu(new yt(c,[]),e)}function iP(t){let e={},n={},r={},i="",s=new Qi([],e,r,i,n,Q,t,null,{});return new _u("",new yt(s,[]))}var Vr=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(d=>d[Fo]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Ji(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Ji(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Iu(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&yT(i)&&(r.resolve[Fo]=i.title),r}var Qi=class{get title(){return this.data?.[Fo]}constructor(e,n,r,i,s,o,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ji(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ji(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_u=class extends yu{constructor(e,n){super(n),this.url=e,up(this,n)}toString(){return mT(this._root)}};function up(t,e){e.value._routerState=t,e.children.forEach(n=>up(t,n))}function mT(t){let e=t.children.length>0?` { ${t.children.map(mT).join(", ")} } `:"";return`${t.value}${e}`}function Pf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xt(e.params,n.params)||t.paramsSubject.next(n.params),Mx(e.url,n.url)||t.urlSubject.next(n.url),Xt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ep(t,e){let n=Xt(t.params,e.params)&&kx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ep(t.parent,e.parent))}function yT(t){return typeof t.title=="string"||t.title===null}var lp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Q,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=N(Du),this.location=N(Ui),this.changeDetector=N(zi),this.inputBinder=N(dp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new tp(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=oo({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Li]});let t=e;return t})(),tp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vr?this.route:e===Du?this.childContexts:this.parent.get(e,n)}},dp=new V("");function sP(t,e,n){let r=Po(t,e._root,n?n._root:void 0);return new vu(r,e)}function Po(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=oP(t,e,n);return new yt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Po(t,c)),o}}let r=aP(e.value),i=e.children.map(s=>Po(t,s));return new yt(r,i)}}function oP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Po(t,r,i);return Po(t,r)})}function aP(t){return new Vr(new $e(t.url),new $e(t.params),new $e(t.queryParams),new $e(t.fragment),new $e(t.data),t.outlet,t.component,t)}var Oo=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},vT="ngNavigationCancelingError";function wu(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Lr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IT(!1,vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function IT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[vT]=!0,n.cancellationCode=e,n}function cP(t){return _T(t)&&Lr(t.url)}function _T(t){return!!t&&t[vT]}var uP=(t,e,n,r)=>X(i=>(new np(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),np=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Wi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Wi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Wi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Wi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Pf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Pf(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Eu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yi=class{constructor(e,n){this.component=e,this.route=n}};function lP(t,e,n){let r=t._root,i=e?e._root:null;return To(r,i,n,[r.value])}function dP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!MI(t)?t:e.get(t):r}function To(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Wi(e);return t.children.forEach(o=>{hP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>So(c,n.getContext(o),i)),i}function hP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=fP(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Eu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?To(t,e,c?c.children:null,r,i):To(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Yi(c.outlet.component,o))}else o&&So(e,c,i),i.canActivateChecks.push(new Eu(r)),s.component?To(t,null,c?c.children:null,r,i):To(t,null,n,r,i);return i}function fP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!kr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kr(t.url,e.url)||!Xt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ep(t,e)||!Xt(t.queryParams,e.queryParams);case"paramsChange":default:return!ep(t,e)}}function So(t,e,n){let r=Wi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?So(o,e.children.getContext(s),n):So(o,null,n):So(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Yi(e.outlet.component,i)):n.canDeactivateChecks.push(new Yi(null,i)):n.canDeactivateChecks.push(new Yi(null,i))}function Uo(t){return typeof t=="function"}function pP(t){return typeof t=="boolean"}function gP(t){return t&&Uo(t.canLoad)}function mP(t){return t&&Uo(t.canActivate)}function yP(t){return t&&Uo(t.canActivateChild)}function vP(t){return t&&Uo(t.canDeactivate)}function IP(t){return t&&Uo(t.canMatch)}function wT(t){return t instanceof dn||t?.name==="EmptyError"}var lu=Symbol("INITIAL_VALUE");function Xi(){return Dt(t=>Ya(t.map(e=>e.pipe(hn(1),Od(lu)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===lu)return lu;if(n===!1||_P(n))return n}return!0}),Tt(e=>e!==lu),hn(1)))}function _P(t){return Lr(t)||t instanceof Oo}function wP(t,e){return Oe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?$(ve(k({},n),{guardsResult:!0})):EP(o,r,i,t).pipe(Oe(c=>c&&pP(c)?TP(r,s,t,e):$(c)),X(c=>ve(k({},n),{guardsResult:c})))})}function EP(t,e,n,r){return Te(t).pipe(Oe(i=>AP(i.component,i.route,n,e,r)),Ft(i=>i!==!0,!0))}function TP(t,e,n,r){return Te(e).pipe(Ir(i=>_i(bP(i.route.parent,r),DP(i.route,r),SP(t,i.path,n),CP(t,i.route,n))),Ft(i=>i!==!0,!0))}function DP(t,e){return t!==null&&e&&e(new Qf(t)),$(!0)}function bP(t,e){return t!==null&&e&&e(new Wf(t)),$(!0)}function CP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(s=>Ja(()=>{let o=Vo(e)??n,c=es(s,o),u=mP(c)?c.canActivate(e,t):Qt(o,()=>c(e,t));return Jn(u).pipe(Ft())}));return $(i).pipe(Xi())}function SP(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>dP(o)).filter(o=>o!==null).map(o=>Ja(()=>{let c=o.guards.map(u=>{let d=Vo(o.node)??n,f=es(u,d),g=yP(f)?f.canActivateChild(r,t):Qt(d,()=>f(r,t));return Jn(g).pipe(Ft())});return $(c).pipe(Xi())}));return $(s).pipe(Xi())}function AP(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return $(!0);let o=s.map(c=>{let u=Vo(e)??i,d=es(c,u),f=vP(d)?d.canDeactivate(t,e,n,r):Qt(u,()=>d(t,e,n,r));return Jn(f).pipe(Ft())});return $(o).pipe(Xi())}function RP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let s=i.map(o=>{let c=es(o,t),u=gP(c)?c.canLoad(e,n):Qt(t,()=>c(e,n));return Jn(u)});return $(s).pipe(Xi(),ET(r))}function ET(t){return Ed(De(e=>{if(typeof e!="boolean")throw wu(t,e)}),X(e=>e===!0))}function NP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let s=i.map(o=>{let c=es(o,t),u=IP(c)?c.canMatch(e,n):Qt(t,()=>c(e,n));return Jn(u)});return $(s).pipe(Xi(),ET(r))}var ko=class{constructor(e){this.segmentGroup=e||null}},Lo=class extends Error{constructor(e){super(),this.urlTree=e}};function Gi(t){return vi(new ko(t))}function MP(t){return vi(new U(4e3,!1))}function xP(t){return vi(IT(!1,vt.GuardRejected))}var rp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[Q])return MP(`${e.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:d,routeConfig:f,url:g,outlet:I,params:E,data:A,title:x}=i,P=Qt(s,()=>c({params:E,data:A,queryParams:u,fragment:d,routeConfig:f,url:g,outlet:I,title:x}));if(P instanceof _n)throw new Lo(P);n=P}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Lo(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new _n(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ip={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PP(t,e,n,r,i){let s=TT(t,e,n);return s.matched?(r=nP(e,r),NP(r,e,n,i).pipe(X(o=>o===!0?s:k({},ip)))):$(s)}function TT(t,e,n){if(e.path==="**")return OP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},ip):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Nx)(n,t,e);if(!i)return k({},ip);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function OP(t){return{matched:!0,parameters:t.length>0?nT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZE(t,e,n,r){return n.length>0&&FP(t,n,r)?{segmentGroup:new de(e,LP(r,new de(n,t.children))),slicedSegments:[]}:n.length===0&&VP(t,n,r)?{segmentGroup:new de(t.segments,kP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new de(t.segments,t.children),slicedSegments:n}}function kP(t,e,n,r){let i={};for(let s of n)if(bu(t,e,s)&&!r[zt(s)]){let o=new de([],{});i[zt(s)]=o}return k(k({},r),i)}function LP(t,e){let n={};n[Q]=e;for(let r of t)if(r.path===""&&zt(r)!==Q){let i=new de([],{});n[zt(r)]=i}return n}function FP(t,e,n){return n.some(r=>bu(t,e,r)&&zt(r)!==Q)}function VP(t,e,n){return n.some(r=>bu(t,e,r))}function bu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function UP(t,e,n){return e.length===0&&!t.children[n]}var sp=class{};function jP(t,e,n,r,i,s,o="emptyOnly"){return new op(t,e,n,r,i,o,s).recognize()}var BP=31,op=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new rp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new yt(r,n),s=new _u("",i),o=Qx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Qi([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Q,n).pipe(X(r=>({children:r,rootSnapshot:n})),Bn(r=>{if(r instanceof Lo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ko?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(X(o=>o instanceof yt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Te(s).pipe(Ir(o=>{let c=r.children[o],u=rP(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Pd((o,c)=>(o.push(...c),o)),$n(null),xd(),Oe(o=>{if(o===null)return Gi(r);let c=DT(o);return $P(c),$(c)}))}processSegment(e,n,r,i,s,o,c){return Te(n).pipe(Ir(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(Bn(d=>{if(d instanceof ko)return $(null);throw d}))),Ft(u=>!!u),Bn(u=>{if(wT(u))return UP(r,i,s)?$(new sp):Gi(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return zt(r)!==o&&(o===Q||!bu(i,s,r))?Gi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Gi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:I}=TT(n,i,s);if(!u)return Gi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>BP&&(this.allowRedirects=!1));let E=new Qi(s,d,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,XE(i),zt(i),i.component??i._loadedComponent??null,i,eT(i)),A=Iu(E,c,this.paramsInheritanceStrategy);E.params=Object.freeze(A.params),E.data=Object.freeze(A.data);let x=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,E,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Oe(P=>this.processSegment(e,r,n,P.concat(I),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=PP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Dt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Dt(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:I,remainingSegments:E}=u,A=new Qi(I,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,XE(r),zt(r),r.component??r._loadedComponent??null,r,eT(r)),x=Iu(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(x.params),A.data=Object.freeze(x.data);let{segmentGroup:P,slicedSegments:F}=ZE(n,I,E,d);if(F.length===0&&P.hasChildren())return this.processChildren(f,d,P,A).pipe(X(W=>new yt(A,W)));if(d.length===0&&F.length===0)return $(new yt(A,[]));let z=zt(r)===s;return this.processSegment(f,d,P,F,z?Q:s,!0,A).pipe(X(W=>new yt(A,W instanceof yt?[W]:[])))}))):Gi(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):RP(e,n,r,this.urlSerializer).pipe(Oe(i=>i?this.configLoader.loadChildren(e,n).pipe(De(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):xP(n))):$({routes:[],injector:e})}};function $P(t){t.sort((e,n)=>e.value.outlet===Q?-1:n.value.outlet===Q?1:e.value.outlet.localeCompare(n.value.outlet))}function zP(t){let e=t.value.routeConfig;return e&&e.path===""}function DT(t){let e=[],n=new Set;for(let r of t){if(!zP(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=DT(r.children);e.push(new yt(r.value,i))}return e.filter(r=>!n.has(r))}function XE(t){return t.data||{}}function eT(t){return t.resolve||{}}function qP(t,e,n,r,i,s){return Oe(o=>jP(t,e,n,r,o.extractedUrl,i,s).pipe(X(({state:c,tree:u})=>ve(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function HP(t,e){return Oe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of bT(u))o.add(d);let c=0;return Te(o).pipe(Ir(u=>s.has(u)?GP(u,r,t,e):(u.data=Iu(u,u.parent,t).resolve,$(void 0))),De(()=>c++),Ei(1),Oe(u=>c===o.size?$(n):ht))})}function bT(t){let e=t.children.map(n=>bT(n)).flat();return[t,...e]}function GP(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!yT(i)&&(s[Fo]=i.title),WP(s,t,e,r).pipe(X(o=>(t._resolvedData=o,t.data=Iu(t,t.parent,n).resolve,null)))}function WP(t,e,n,r){let i=Lf(t);if(i.length===0)return $({});let s={};return Te(i).pipe(Oe(o=>KP(t[o],e,n,r).pipe(Ft(),De(c=>{if(c instanceof Oo)throw wu(new Ao,c);s[o]=c}))),Ei(1),Md(s),Bn(o=>wT(o)?ht:vi(o)))}function KP(t,e,n,r){let i=Vo(e)??r,s=es(t,i),o=s.resolve?s.resolve(e,n):Qt(i,()=>s(e,n));return Jn(o)}function Of(t){return Dt(e=>{let n=t(e);return n?Te(n).pipe(X(()=>e)):$(e)})}var CT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Q);return i}getResolvedTitleForRoute(r){return r.data[Fo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(QP),providedIn:"root"});let t=e;return t})(),QP=(()=>{let e=class e extends CT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(J(GE))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hp=new V("",{providedIn:"root",factory:()=>({})}),YP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Jt],decls:1,vars:0,template:function(i,s){i&1&&Yn(0,"router-outlet")},dependencies:[lp],encapsulation:2});let t=e;return t})();function fp(t){let e=t.children&&t.children.map(fp),n=e?ve(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=YP),n}var pp=new V(""),JP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(If)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Jn(r.loadComponent()).pipe(X(ST),De(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),wi(()=>{this.componentLoaders.delete(r)})),s=new pi(i,()=>new Je).pipe(fi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ZP(i,this.compiler,r,this.onLoadEndListener).pipe(wi(()=>{this.childrenLoaders.delete(i)})),c=new pi(o,()=>new Je).pipe(fi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZP(t,e,n,r){return Jn(t.loadChildren()).pipe(X(ST),Oe(i=>i instanceof so||Array.isArray(i)?$(i):Te(e.compileModuleAsync(i))),X(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(pp,[],{optional:!0,self:!0}).flat()),{routes:o.map(fp),injector:s}}))}function XP(t){return t&&typeof t=="object"&&"default"in t}function ST(t){return XP(t)?t.default:t}var gp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(eO),providedIn:"root"});let t=e;return t})(),eO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tO=new V("");var nO=new V(""),rO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.transitionAbortSubject=new Je,this.configLoader=N(JP),this.environmentInjector=N(At),this.urlSerializer=N(cp),this.rootContexts=N(Du),this.location=N(mo),this.inputBindingEnabled=N(dp,{optional:!0})!==null,this.titleStrategy=N(CT),this.options=N(hp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(gp),this.createViewTransition=N(tO,{optional:!0}),this.navigationErrorHandler=N(nO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Hf(s)),i=s=>this.events.next(new Gf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ve(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new $e({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Co,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tt(o=>o.id!==0),X(o=>ve(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Dt(o=>{let c=!1,u=!1;return $(o).pipe(Dt(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",vt.SupersededByNewNavigation),ht;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?ve(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let I="";return this.events.next(new Fr(d.id,this.urlSerializer.serialize(d.rawUrl),I,jf.IgnoredSameUrlNavigation)),d.resolve(!1),ht}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return $(d).pipe(Dt(I=>{let E=this.transitions?.getValue();return this.events.next(new No(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),E!==this.transitions?.getValue()?ht:Promise.resolve(I)}),qP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),De(I=>{o.targetSnapshot=I.targetSnapshot,o.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation=ve(k({},this.currentNavigation),{finalUrl:I.urlAfterRedirects});let E=new mu(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(E)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:I,extractedUrl:E,source:A,restoredState:x,extras:P}=d,F=new No(I,this.urlSerializer.serialize(E),A,x);this.events.next(F);let z=gT(this.rootComponentType).snapshot;return this.currentTransition=o=ve(k({},d),{targetSnapshot:z,urlAfterRedirects:E,extras:ve(k({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,$(o)}else{let I="";return this.events.next(new Fr(d.id,this.urlSerializer.serialize(d.extractedUrl),I,jf.IgnoredByUrlHandlingStrategy)),d.resolve(!1),ht}}),De(d=>{let f=new Bf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),X(d=>(this.currentTransition=o=ve(k({},d),{guards:lP(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),wP(this.environmentInjector,d=>this.events.next(d)),De(d=>{if(o.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw wu(this.urlSerializer,d.guardsResult);let f=new $f(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),Tt(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",vt.GuardRejected),!1)),Of(d=>{if(d.guards.canActivateChecks.length)return $(d).pipe(De(f=>{let g=new zf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Dt(f=>{let g=!1;return $(f).pipe(HP(this.paramsInheritanceStrategy,this.environmentInjector),De({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",vt.NoDataFromResolver)}}))}),De(f=>{let g=new qf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Of(d=>{let f=g=>{let I=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(g.routeConfig).pipe(De(E=>{g.component=E}),X(()=>{})));for(let E of g.children)I.push(...f(E));return I};return Ya(f(d.targetSnapshot.root)).pipe($n(null),hn(1))}),Of(()=>this.afterPreactivation()),Dt(()=>{let{currentSnapshot:d,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return g?Te(g).pipe(X(()=>o)):$(o)}),X(d=>{let f=sP(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=ve(k({},d),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),De(()=>{this.events.next(new xo)}),uP(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),hn(1),De({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),kd(this.transitionAbortSubject.pipe(De(d=>{throw d}))),wi(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",vt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(d=>{if(u=!0,_T(d))this.events.next(new In(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),cP(d)?this.events.next(new Zi(d.url,d.navigationBehaviorOptions)):o.resolve(!1);else{let f=new Mo(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0);try{let g=Qt(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof Oo){let{message:I,cancellationCode:E}=wu(this.urlSerializer,g);this.events.next(new In(o.id,this.urlSerializer.serialize(o.extractedUrl),I,E)),this.events.next(new Zi(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let I=r.errorHandler(d);o.resolve(!!I)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return ht}))}))}cancelNavigationTransition(r,i,s){let o=new In(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iO(t){return t!==Co}var sO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(oO),providedIn:"root"});let t=e;return t})(),ap=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},oO=(()=>{let e=class e extends ap{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gh(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>N(aO),providedIn:"root"});let t=e;return t})(),aO=(()=>{let e=class e extends AT{constructor(){super(...arguments),this.location=N(mo),this.urlSerializer=N(cp),this.options=N(hp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(gp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _n,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof No)this.stateMemento=this.createStateMemento();else if(r instanceof Fr)this.rawUrlTree=i.initialUrl;else if(r instanceof mu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof xo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof In&&(r.code===vt.GuardRejected||r.code===vt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Mo?this.restoreHistory(i,!0):r instanceof wn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof _n?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=k(k({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gh(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Do=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Do||{});function cO(t,e){t.events.pipe(Tt(n=>n instanceof wn||n instanceof In||n instanceof Mo||n instanceof Fr),X(n=>n instanceof wn||n instanceof Fr?Do.COMPLETE:(n instanceof In?n.code===vt.Redirect||n.code===vt.SupersededByNewNavigation:!1)?Do.REDIRECTING:Do.FAILED),Tt(n=>n!==Do.REDIRECTING),hn(1)).subscribe(()=>{e()})}function uO(t){throw t}var lO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ts=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=N(eu),this.stateManager=N(AT),this.options=N(hp,{optional:!0})||{},this.pendingTasks=N(Mr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(rO),this.urlSerializer=N(cp),this.location=N(mo),this.urlHandlingStrategy=N(gp),this._events=new Je,this.errorHandler=this.options.errorHandler||uO,this.navigated=!1,this.routeReuseStrategy=N(sO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(pp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(dp,{optional:!0}),this.eventsSubscription=new Ee,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof In&&i.code!==vt.Redirect&&i.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof wn)this.navigated=!0;else if(i instanceof Zi){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),d=k({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||iO(s.source)},c);this.scheduleNavigation(u,Co,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}fO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Co,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let d=k({},s);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(fp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:d}=i,f=d?this.currentUrlTree.fragment:c,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let I;try{let E=s?s.snapshot:this.routerState.snapshot.root;I=dT(E)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),I=this.currentUrlTree.root}return hT(I,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Lr(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Co,null,i)}navigate(r,i={skipLocationChange:!1}){return hO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=k({},lO):i===!1?s=k({},dO):s=i,Lr(r))return KE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return KE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,d,f;c?(u=c.resolve,d=c.reject,f=c.promise):f=new Promise((I,E)=>{u=I,d=E});let g=this.pendingTasks.add();return cO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(I=>Promise.reject(I))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function fO(t){return!(t instanceof xo)&&!(t instanceof Zi)}var Tu=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new Je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let d=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof wn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Lr(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:sw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:Lr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(He(ts),He(Vr),Wh("tabindex"),He(ho),He(yn),He(Hi))},e.\u0275dir=oo({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Bi("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&yf("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",go],skipLocationChange:[2,"skipLocationChange","skipLocationChange",go],replaceUrl:[2,"replaceUrl","replaceUrl",go],routerLink:"routerLink"},standalone:!0,features:[gf,Li]});let t=e;return t})(),RT=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,c){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ze,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof wn&&this.update()})}ngAfterContentInit(){$(this.links.changes,$(null)).pipe(Ii()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Te(r).pipe(Ii()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=pO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(He(ts),He(yn),He(ho),He(zi),He(Tu,8))},e.\u0275dir=oo({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&nE(o,Tu,5),i&2){let c;rE(c=iE())&&(s.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Li]});let t=e;return t})();function pO(t){return!!t.paths}var gO=new V("");function NT(t,...e){return mt([{provide:pp,multi:!0,useValue:t},[],{provide:Vr,useFactory:mO,deps:[ts]},{provide:$i,multi:!0,useFactory:yO},e.map(n=>n.\u0275providers)])}function mO(t){return t.routerState.root}function yO(){let t=N(rt);return e=>{let n=t.get(Zt);if(e!==n.components[0])return;let r=t.get(ts),i=t.get(vO);t.get(IO)===1&&r.initialNavigation(),t.get(_O,null,Y.Optional)?.setUpPreloading(),t.get(gO,null,Y.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vO=new V("",{factory:()=>new Je}),IO=new V("",{providedIn:"root",factory:()=>1});var _O=new V("");var Cu=class t{titulo="\xA1Bienvenido a GameZone!";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Nt({type:t,selectors:[["app-home"]],standalone:!0,features:[Jt],decls:6,vars:1,consts:[[1,"home-container"],[1,"header"]],template:function(n,r){n&1&&(Ie(0,"div",0)(1,"header",1)(2,"h1"),Ce(3),_e(),Ie(4,"p"),Ce(5,"Elije que juego jugar"),_e()()()),n&2&&(_w(3),vf(r.titulo))},styles:[".home-container[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;color:#ff5722}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#757575}.juegos-destacados[_ngcontent-%COMP%], .juegos-recientes[_ngcontent-%COMP%]{margin-bottom:40px}.juegos-destacados[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .juegos-recientes[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#ff5722}.juegos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}.juego-card[_ngcontent-%COMP%]{background-color:#f1f1f1;border-radius:10px;overflow:hidden;cursor:pointer;transition:transform .3s ease}.juego-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.juego-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover}.juego-info[_ngcontent-%COMP%]{padding:15px;text-align:center}.juego-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.juego-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#757575}.juegos-recientes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.juegos-recientes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.2rem;padding:10px 0;border-bottom:1px solid #ddd}"]})};var Au=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Nt({type:t,selectors:[["app-page-not-found"]],standalone:!0,features:[Jt],decls:2,vars:0,template:function(n,r){n&1&&(Ie(0,"p"),Ce(1,"page-not-found works!"),_e())}})};var xT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},PT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,I=(c&15)<<2|d>>6,E=d&63;u||(E=64,o||(I=64)),r.push(n[f],n[g],n[I],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new yp;let I=s<<2|c>>4;if(r.push(I),d!==64){let E=c<<4&240|d>>2;if(r.push(E),g!==64){let A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},TO=function(t){let e=xT(t);return PT.encodeByteArray(e,!0)},jo=function(t){return TO(t).replace(/\./g,"")},Ip=function(t){try{return PT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bO=()=>DO().__FIREBASE_DEFAULTS__,CO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ip(t[1]);return e&&JSON.parse(e)},Nu=()=>{try{return bO()||CO()||SO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_p=t=>{var e,n;return(n=(e=Nu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OT=t=>{let e=_p(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wp=()=>{var t;return(t=Nu())===null||t===void 0?void 0:t.config},Ep=t=>{var e;return(e=Nu())===null||e===void 0?void 0:e[`_${t}`]};var Ru=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function kT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jo(JSON.stringify(n)),jo(JSON.stringify(o)),""].join(".")}function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function AO(){var t;let e=(t=Nu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UT(){let t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jT(){return!AO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tp(){try{return typeof indexedDB=="object"}catch{return!1}}function BT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var RO="FirebaseError",It=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NO(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new It(i,c,r)}};function NO(t,e){return t.replace(MO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var MO=/\{\$([^}]+)}/g;function $T(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ur(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(MT(s)&&MT(o)){if(!Ur(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function MT(t){return t!==null&&typeof t=="object"}function Bo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zT(t,e){let n=new vp(t,e);return n.subscribe.bind(n)}var vp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mp),i.error===void 0&&(i.error=mp),i.complete===void 0&&(i.complete=mp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function xO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mp(){}var KH=4*60*60*1e3;function _t(t){return t&&t._delegate?t._delegate:t}var Ot=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var jr="[DEFAULT]";var Dp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ru;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OO(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PO(t){return t===jr?void 0:t}function OO(t){return t.instantiationMode==="EAGER"}var Mu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var kO=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),LO={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},FO=ee.INFO,VO={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},UO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=VO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zn=class{constructor(e){this.name=e,this._logLevel=FO,this._logHandler=UO,this._userLogHandler=null,kO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var jO=(t,e)=>e.some(n=>t instanceof n),qT,HT;function BO(){return qT||(qT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $O(){return HT||(HT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var GT=new WeakMap,Cp=new WeakMap,WT=new WeakMap,bp=new WeakMap,Ap=new WeakMap;function zO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(en(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GT.set(n,t)}).catch(()=>{}),Ap.set(e,t),e}function qO(t){if(Cp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cp.set(t,e)}var Sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return en(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KT(t){Sp=t(Sp)}function HO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(xu(this),e,...n);return WT.set(r,e.sort?e.sort():[e]),en(r)}:$O().includes(t)?function(...e){return t.apply(xu(this),e),en(GT.get(this))}:function(...e){return en(t.apply(xu(this),e))}}function GO(t){return typeof t=="function"?HO(t):(t instanceof IDBTransaction&&qO(t),jO(t,BO())?new Proxy(t,Sp):t)}function en(t){if(t instanceof IDBRequest)return zO(t);if(bp.has(t))return bp.get(t);let e=GO(t);return e!==t&&(bp.set(t,e),Ap.set(e,t)),e}var xu=t=>Ap.get(t);function YT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=en(o);return r&&o.addEventListener("upgradeneeded",u=>{r(en(o.result),u.oldVersion,u.newVersion,en(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var WO=["get","getKey","getAll","getAllKeys","count"],KO=["put","add","delete","clear"],Rp=new Map;function QT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=KO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WO.includes(n)))return;let s=function(o,...c){return D(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return Rp.set(e,s),s}KT(t=>ve(k({},t),{get:(e,n,r)=>QT(e,n)||t.get(e,n,r),has:(e,n)=>!!QT(e,n)||t.has(e,n)}));var Mp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function QO(t){let e=t.getComponent();return e?.type==="VERSION"}var xp="@firebase/app",JT="0.10.10";var Tn=new Zn("@firebase/app"),YO="@firebase/app-compat",JO="@firebase/analytics-compat",ZO="@firebase/analytics",XO="@firebase/app-check-compat",ek="@firebase/app-check",tk="@firebase/auth",nk="@firebase/auth-compat",rk="@firebase/database",ik="@firebase/database-compat",sk="@firebase/functions",ok="@firebase/functions-compat",ak="@firebase/installations",ck="@firebase/installations-compat",uk="@firebase/messaging",lk="@firebase/messaging-compat",dk="@firebase/performance",hk="@firebase/performance-compat",fk="@firebase/remote-config",pk="@firebase/remote-config-compat",gk="@firebase/storage",mk="@firebase/storage-compat",yk="@firebase/firestore",vk="@firebase/vertexai-preview",Ik="@firebase/firestore-compat",_k="firebase",wk="10.13.1";var Pp="[DEFAULT]",Ek={[xp]:"fire-core",[YO]:"fire-core-compat",[ZO]:"fire-analytics",[JO]:"fire-analytics-compat",[ek]:"fire-app-check",[XO]:"fire-app-check-compat",[tk]:"fire-auth",[nk]:"fire-auth-compat",[rk]:"fire-rtdb",[ik]:"fire-rtdb-compat",[sk]:"fire-fn",[ok]:"fire-fn-compat",[ak]:"fire-iid",[ck]:"fire-iid-compat",[uk]:"fire-fcm",[lk]:"fire-fcm-compat",[dk]:"fire-perf",[hk]:"fire-perf-compat",[fk]:"fire-rc",[pk]:"fire-rc-compat",[gk]:"fire-gcs",[mk]:"fire-gcs-compat",[yk]:"fire-fst",[Ik]:"fire-fst-compat",[vk]:"fire-vertex","fire-js":"fire-js",[_k]:"fire-js-all"};var $o=new Map,Tk=new Map,Op=new Map;function ZT(t,e){try{t.container.addComponent(e)}catch(n){Tn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function er(t){let e=t.name;if(Op.has(e))return Tn.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,t);for(let n of $o.values())ZT(n,t);for(let n of Tk.values())ZT(n,t);return!0}function qo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t.settings!==void 0}var Dk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xn=new En("app","Firebase",Dk);var kp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}};var tr=wk;function Vp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xn.create("bad-app-name",{appName:String(i)});if(n||(n=wp()),!n)throw Xn.create("no-options");let s=$o.get(i);if(s){if(Ur(n,s.options)&&Ur(r,s.config))return s;throw Xn.create("duplicate-app",{appName:i})}let o=new Mu(i);for(let u of Op.values())o.addComponent(u);let c=new kp(n,r,o);return $o.set(i,c),c}function ns(t=Pp){let e=$o.get(t);if(!e&&t===Pp&&wp())return Vp();if(!e)throw Xn.create("no-app",{appName:t});return e}function Pu(){return Array.from($o.values())}function ke(t,e,n){var r;let i=(r=Ek[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tn.warn(c.join(" "));return}er(new Ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bk="firebase-heartbeat-database",Ck=1,zo="firebase-heartbeat-store",Np=null;function nD(){return Np||(Np=YT(bk,Ck,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xn.create("idb-open",{originalErrorMessage:t.message})})),Np}function Sk(t){return D(this,null,function*(){try{let n=(yield nD()).transaction(zo),r=yield n.objectStore(zo).get(rD(t));return yield n.done,r}catch(e){if(e instanceof It)Tn.warn(e.message);else{let n=Xn.create("idb-get",{originalErrorMessage:e?.message});Tn.warn(n.message)}}})}function XT(t,e){return D(this,null,function*(){try{let r=(yield nD()).transaction(zo,"readwrite");yield r.objectStore(zo).put(e,rD(t)),yield r.done}catch(n){if(n instanceof It)Tn.warn(n.message);else{let r=Xn.create("idb-set",{originalErrorMessage:n?.message});Tn.warn(r.message)}}})}function rD(t){return`${t.name}!${t.options.appId}`}var Ak=1024,Rk=30*24*60*60*1e3,Lp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Fp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=Rk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Tn.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=eD(),{heartbeatsToSend:r,unsentEntries:i}=Nk(this._heartbeatsCache.heartbeats),s=jo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Tn.warn(n),""}})}};function eD(){return new Date().toISOString().substring(0,10)}function Nk(t,e=Ak){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Fp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Tp()?BT().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Sk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tD(t){return jo(JSON.stringify({version:2,heartbeats:t})).length}function Mk(t){er(new Ot("platform-logger",e=>new Mp(e),"PRIVATE")),er(new Ot("heartbeat",e=>new Lp(e),"PRIVATE")),ke(xp,JT,t),ke(xp,JT,"esm2017"),ke("fire-js","")}Mk("");var xk="firebase",Pk="10.13.1";ke(xk,Pk,"app");var $r=new Wn("ANGULARFIRE2_VERSION");function ku(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ho=(t,e)=>{let n=e?[e]:Pu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},is=class{constructor(){return Ho(Ok)}},Ok="app-check";function rs(){}var Ou=class{zone;delegate;constructor(e,n=Ad){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Up=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs)),n.pipe(De({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ss=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ou(Zone.current)),this.insideAngular=n.run(()=>new Ou(Zone.current,Sd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(J(he))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function kk(t){return Lu().ngZone.runOutsideAngular(()=>t())}function Br(t){return Lu().ngZone.run(()=>t())}function Lk(t){return Fk(Lu())(t)}function Fk(t){return function(n){return n=n.lift(new Up(t.ngZone)),n.pipe(jn(t.outsideAngular),Un(t.insideAngular))}}var Vk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Br(()=>t.apply(void 0,r))},nr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs))),r[s]=Vk(r[s],n));let i=kk(()=>t.apply(this,r));if(!e)if(i instanceof oe){let s=Lu();return i.pipe(jn(s.outsideAngular),Un(s.insideAngular))}else return Br(()=>i);return i instanceof oe?i.pipe(Lk):i instanceof Promise?Br(()=>new Promise((s,o)=>i.then(c=>Br(()=>s(c)),c=>Br(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Br(()=>i)};var bn=class{constructor(e){return e}},zr=class{constructor(){return Pu()}};function Uk(t){return t&&t.length===1?t[0]:new bn(ns())}var jp=new V("angularfire2._apps"),jk={provide:bn,useFactory:Uk,deps:[[new at,jp]]},Bk={provide:zr,deps:[[new at,jp]]};function $k(t){return(e,n)=>{let r=n.get(xt);ke("angularfire",$r.full,"core"),ke("angularfire",$r.full,"app"),ke("angular",aE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new bn(i)}}function iD(t,...e){return mt([jk,Bk,{provide:jp,useFactory:$k(t),multi:!0,deps:[he,rt,ss,...e]}])}var sD=nr(Vp,!0);function _D(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var wD=_D,ED=new En("auth","Firebase",_D());var $u=new Zn("@firebase/auth");function zk(t,...e){$u.logLevel<=ee.WARN&&$u.warn(`Auth (${tr}): ${t}`,...e)}function Vu(t,...e){$u.logLevel<=ee.ERROR&&$u.error(`Auth (${tr}): ${t}`,...e)}function ir(t,...e){throw og(t,...e)}function Hr(t,...e){return og(t,...e)}function TD(t,e,n){let r=Object.assign(Object.assign({},wD()),{[e]:n});return new En("auth","Firebase",r).create(e,{appName:t.name})}function qr(t){return TD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ED.create(t,...e)}function q(t,e,...n){if(!t)throw og(e,...n)}function Cn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function sr(t,e){t||Cn(e)}function qp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qk(){return oD()==="http:"||oD()==="https:"}function oD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Hk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qk()||FT()||"connection"in navigator)?navigator.onLine:!0}function Gk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Gr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=LT()||VT()}get(){return Hk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ag(t,e){sr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var zu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Wk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Kk=new Gr(3e4,6e4);function cg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function as(s,o,c,u){return D(this,arguments,function*(t,e,n,r,i={}){return DD(t,i,()=>D(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=Bo(Object.assign({key:t.config.apiKey},f)).slice(1),I=yield t._getAdditionalHeaders();return I["Content-Type"]="application/json",t.languageCode&&(I["X-Firebase-Locale"]=t.languageCode),zu.fetch()(bD(t,t.config.apiHost,n,g),Object.assign({method:e,headers:I,referrerPolicy:"no-referrer"},d))}))})}function DD(t,e,n){return D(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Wk),e);try{let i=new Hp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Fu(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw TD(t,f,d);ir(t,f)}}catch(i){if(i instanceof It)throw i;ir(t,"network-request-failed",{message:String(i)})}})}function Qk(s,o,c,u){return D(this,arguments,function*(t,e,n,r,i={}){let d=yield as(t,e,n,r,i);return"mfaPendingCredential"in d&&ir(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function bD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ag(t.config,i):`${t.config.apiScheme}://${i}`}var Hp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),Kk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Fu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function Yk(t,e){return D(this,null,function*(){return as(t,"POST","/v1/accounts:delete",e)})}function CD(t,e){return D(this,null,function*(){return as(t,"POST","/v1/accounts:lookup",e)})}function Go(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ug(t,e=!1){return D(this,null,function*(){let n=_t(t),r=yield n.getIdToken(e),i=lg(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Go(Bp(i.auth_time)),issuedAtTime:Go(Bp(i.iat)),expirationTime:Go(Bp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bp(t){return Number(t)*1e3}function lg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ip(n);return i?JSON.parse(i):(Vu("Failed to decode base64 JWT payload"),null)}catch(i){return Vu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aD(t){let e=lg(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ko(t,e,n=!1){return D(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof It&&Jk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Jk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qu(t){return D(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ko(t,CD(n,{idToken:r}));q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?SD(s.providerUserInfo):[],c=Zk(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!c?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Qo(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function dg(t){return D(this,null,function*(){let e=_t(t);yield qu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Zk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SD(t){return t.map(e=>{var{providerId:n}=e,r=Rd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Xk(t,e){return D(this,null,function*(){let n=yield DD(t,{},()=>D(this,null,function*(){let r=Bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=bD(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",zu.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function e1(t,e){return D(this,null,function*(){return as(t,"POST","/v2/accounts:revokeToken",cg(t,e))})}var Wo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=aD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Xk(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Cn("not implemented")}};function rr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var os=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let n=yield Ko(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ug(this,e)}reload(){return dg(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield qu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(Dn(this.auth.app))return Promise.reject(qr(this.auth));let e=yield this.getIdToken();return yield Ko(this,Yk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=n.createdAt)!==null&&d!==void 0?d:void 0,z=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:W,emailVerified:ne,isAnonymous:Pe,providerData:ae,stsTokenManager:w}=n;q(W&&w,e,"internal-error");let m=Wo.fromJSON(this.name,w);q(typeof W=="string",e,"internal-error"),rr(g,e.name),rr(I,e.name),q(typeof ne=="boolean",e,"internal-error"),q(typeof Pe=="boolean",e,"internal-error"),rr(E,e.name),rr(A,e.name),rr(x,e.name),rr(P,e.name),rr(F,e.name),rr(z,e.name);let y=new t({uid:W,auth:e,email:I,emailVerified:ne,displayName:g,isAnonymous:Pe,photoURL:A,phoneNumber:E,tenantId:x,stsTokenManager:m,createdAt:F,lastLoginAt:z});return ae&&Array.isArray(ae)&&(y.providerData=ae.map(_=>Object.assign({},_))),P&&(y._redirectEventId=P),y}static _fromIdTokenResponse(e,n,r=!1){return D(this,null,function*(){let i=new Wo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return D(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?SD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Wo;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var cD=new Map;function Sn(t){sr(t instanceof Function,"Expected a class definition");let e=cD.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cD.set(t,e),e)}var t1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Wp=t1;function Uu(t,e,n){return`firebase:${t}:${e}:${n}`}var Hu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Uu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?os._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new t(Sn(Wp),e,r);let i=(yield Promise.all(n.map(d=>D(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Sn(Wp),o=Uu(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(o);if(f){let g=os._fromJSON(e,f);d!==s&&(c=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(d=>D(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function uD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PD(e))return"Blackberry";if(OD(e))return"Webos";if(RD(e))return"Safari";if((e.includes("chrome/")||ND(e))&&!e.includes("edge/"))return"Chrome";if(xD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function AD(t=Ve()){return/firefox\//i.test(t)}function RD(t=Ve()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ND(t=Ve()){return/crios\//i.test(t)}function MD(t=Ve()){return/iemobile/i.test(t)}function xD(t=Ve()){return/android/i.test(t)}function PD(t=Ve()){return/blackberry/i.test(t)}function OD(t=Ve()){return/webos/i.test(t)}function hg(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n1(t=Ve()){var e;return hg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r1(){return UT()&&document.documentMode===10}function kD(t=Ve()){return hg(t)||xD(t)||OD(t)||PD(t)||/windows phone/i.test(t)||MD(t)}function LD(t,e=[]){let n;switch(t){case"Browser":n=uD(Ve());break;case"Worker":n=`${uD(Ve())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tr}/${r}`}var Kp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function i1(n){return D(this,arguments,function*(t,e={}){return as(t,"GET","/v2/passwordPolicy",cg(t,e))})}var s1=6,Qp=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:s1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Yp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gu(this),this.idTokenSubscription=new Gu(this),this.beforeStateQueue=new Kp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ED,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sn(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Hu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let n=yield CD(this,{idToken:e}),r=yield os._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var n;if(Dn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield qu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Gk()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(Dn(this.app))return Promise.reject(qr(this));let n=e?_t(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return D(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return Dn(this.app)?Promise.reject(qr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Dn(this.app)?Promise.reject(qr(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(Sn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield i1(this),n=new Qp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield e1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Sn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield Hu.create(this,[Sn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&zk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function fg(t){return _t(t)}var Gu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=zT(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pg={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o1(t){pg=t}function a1(t){return pg.loadJS(t)}function c1(){return pg.gapiScript}function FD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gg(t,e){let n=qo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ur(s,e??{}))return i;ir(i,"already-initialized")}return n.initialize({options:e})}function u1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Sn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function mg(t,e,n){let r=fg(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=VD(e),{host:o,port:c}=l1(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||d1()}function VD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l1(t){let e=VD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:lD(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:lD(o)}}}function lD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function d1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Wu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cn("not implemented")}_getIdTokenResponse(e){return Cn("not implemented")}_linkToIdToken(e,n){return Cn("not implemented")}_getReauthenticationResolver(e){return Cn("not implemented")}};function $p(t,e){return D(this,null,function*(){return Qk(t,"POST","/v1/accounts:signInWithIdp",cg(t,e))})}var Ku=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Jp=class extends Ku{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Yo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return D(this,null,function*(){let s=yield os._fromIdTokenResponse(e,r,i),o=dD(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=dD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function dD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Zp=class t extends It{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function UD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zp._fromErrorAndOperation(t,s,e,r):s})}function h1(t,e,n=!1){return D(this,null,function*(){let r=yield Ko(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Yo._forOperation(t,"link",r)})}function f1(t,e,n=!1){return D(this,null,function*(){let{auth:r}=t;if(Dn(r.app))return Promise.reject(qr(r));let i="reauthenticate";try{let s=yield Ko(t,UD(r,i,e,t),n);q(s.idToken,r,"internal-error");let o=lg(s.idToken);q(o,r,"internal-error");let{sub:c}=o;return q(t.uid===c,r,"user-mismatch"),Yo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ir(r,"user-mismatch"),s}})}function p1(t,e,n=!1){return D(this,null,function*(){if(Dn(t.app))return Promise.reject(qr(t));let r="signIn",i=yield UD(t,r,e),s=yield Yo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function yg(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function vg(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}var Qu="__sak";var Yu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qu,"1"),this.storage.removeItem(Qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var g1=1e3,m1=10,y1=(()=>{class t extends Yu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);r1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,m1):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},g1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return D(this,null,function*(){yield Fn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return D(this,null,function*(){let r=yield Fn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return D(this,null,function*(){yield Fn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),jD=y1;var v1=(()=>{class t extends Yu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ig=v1;function I1(t){return Promise.all(t.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _1=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return D(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>D(this,null,function*(){return f(r.origin,o)})),d=yield I1(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function BD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Xp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let d=BD("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let I=g;if(I.data.eventId===d)switch(I.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(I.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function tn(){return window}function w1(t){tn().location.href=t}function $D(){return typeof tn().WorkerGlobalScope<"u"&&typeof tn().importScripts=="function"}function E1(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function T1(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D1(){return $D()?self:null}var zD="firebaseLocalStorageDb",b1=1,Ju="firebaseLocalStorage",qD="fbase_key",Wr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Xu(t,e){return t.transaction([Ju],e?"readwrite":"readonly").objectStore(Ju)}function C1(){let t=indexedDB.deleteDatabase(zD);return new Wr(t).toPromise()}function eg(){let t=indexedDB.open(zD,b1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ju,{keyPath:qD})}catch(i){n(i)}}),t.addEventListener("success",()=>D(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ju)?e(r):(r.close(),yield C1(),e(yield eg()))}))})}function hD(t,e,n){return D(this,null,function*(){let r=Xu(t,!0).put({[qD]:e,value:n});return new Wr(r).toPromise()})}function S1(t,e){return D(this,null,function*(){let n=Xu(t,!1).get(e),r=yield new Wr(n).toPromise();return r===void 0?null:r.value})}function fD(t,e){let n=Xu(t,!0).delete(e);return new Wr(n).toPromise()}var A1=800,R1=3,N1=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield eg(),this.db)})}_withRetries(n){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>R1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return $D()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=_1._getInstance(D1()),this.receiver._subscribe("keyChanged",(n,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var n,r;if(this.activeServiceWorker=yield E1(),!this.activeServiceWorker)return;this.sender=new Xp(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||T1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let n=yield eg();return yield hD(n,Qu,"1"),yield fD(n,Qu),!0}catch{}return!1})}_withPendingWrite(n){return D(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>hD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return D(this,null,function*(){let r=yield this._withRetries(i=>S1(i,n));return this.localCache[n]=r,r})}_remove(n){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>fD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return D(this,null,function*(){let n=yield this._withRetries(s=>{let o=Xu(s,!1).getAll();return new Wr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),A1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),HD=N1;var z4=FD("rcb"),q4=new Gr(3e4,6e4);function M1(t,e){return e?Sn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Jo=class extends Wu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $p(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $p(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $p(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function x1(t){return p1(t.auth,new Jo(t),t.bypassAuthState)}function P1(t){let{auth:e,user:n}=t;return q(n,e,"internal-error"),f1(n,new Jo(t),t.bypassAuthState)}function O1(t){return D(this,null,function*(){let{auth:e,user:n}=t;return q(n,e,"internal-error"),h1(n,new Jo(t),t.bypassAuthState)})}var tg=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x1;case"linkViaPopup":case"linkViaRedirect":return O1;case"reauthViaPopup":case"reauthViaRedirect":return P1;default:ir(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var H4=new Gr(2e3,1e4);var k1="pendingRedirect",ju=new Map,ng=class t extends tg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=ju.get(this.auth._key());if(!e){try{let r=(yield L1(this.resolver,this.auth))?yield Fn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return Fn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Fn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function L1(t,e){return D(this,null,function*(){let n=U1(e),r=V1(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function F1(t,e){ju.set(t._key(),e)}function V1(t){return Sn(t._redirectPersistence)}function U1(t){return Uu(k1,t.config.apiKey,t.name)}function j1(t,e,n=!1){return D(this,null,function*(){if(Dn(t.app))return Promise.reject(qr(t));let r=fg(t),i=M1(r,e),o=yield new ng(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var B1=10*60*1e3,rg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B1&&this.cachedEventUids.clear(),this.cachedEventUids.has(pD(e))}saveEventToCache(e){this.cachedEventUids.add(pD(e)),this.lastProcessedEventTime=Date.now()}};function pD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GD(t);default:return!1}}function z1(n){return D(this,arguments,function*(t,e={}){return as(t,"GET","/v1/projects",e)})}var q1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H1=/^https?/;function G1(t){return D(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield z1(t);for(let n of e)try{if(W1(n))return}catch{}ir(t,"unauthorized-domain")})}function W1(t){let e=qp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!H1.test(n))return!1;if(q1.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var K1=new Gr(3e4,6e4);function gD(){let t=tn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q1(t){return new Promise((e,n)=>{var r,i,s;function o(){gD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gD(),n(Hr(t,"network-request-failed"))},timeout:K1.get()})}if(!((i=(r=tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=tn().gapi)===null||s===void 0)&&s.load)o();else{let c=FD("iframefcb");return tn()[c]=()=>{gapi.load?o():n(Hr(t,"network-request-failed"))},a1(`${c1()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Bu=null,e})}var Bu=null;function Y1(t){return Bu=Bu||Q1(t),Bu}var J1=new Gr(5e3,15e3),Z1="__/auth/iframe",X1="emulator/auth/iframe",eL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nL(t){let e=t.config;q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ag(e,X1):`https://${t.config.authDomain}/${Z1}`,r={apiKey:e.apiKey,appName:t.name,v:tr},i=tL.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bo(r).slice(1)}`}function rL(t){return D(this,null,function*(){let e=yield Y1(t),n=tn().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:nL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eL,dontclear:!0},r=>new Promise((i,s)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Hr(t,"network-request-failed"),c=tn().setTimeout(()=>{s(o)},J1.get());function u(){tn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var iL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sL=500,oL=600,aL="_blank",cL="http://localhost",Zu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uL(t,e,n,r=sL,i=oL){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},iL),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Ve().toLowerCase();n&&(c=ND(d)?aL:n),AD(d)&&(e=e||cL,u.scrollbars="yes");let f=Object.entries(u).reduce((I,[E,A])=>`${I}${E}=${A},`,"");if(n1(d)&&c!=="_self")return lL(e||"",c),new Zu(null);let g=window.open(e||"",c,f);q(g,t,"popup-blocked");try{g.focus()}catch{}return new Zu(g)}function lL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var dL="__/auth/handler",hL="emulator/auth/handler",fL=encodeURIComponent("fac");function mD(t,e,n,r,i,s){return D(this,null,function*(){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tr,eventId:i};if(e instanceof Ku){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$T(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Jp){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),d=u?`#${fL}=${encodeURIComponent(u)}`:"";return`${pL(t)}?${Bo(c).slice(1)}${d}`})}function pL({config:t}){return t.emulator?ag(t,hL):`https://${t.authDomain}/${dL}`}var zp="webStorageSupport",ig=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ig,this._completeRedirectFn=j1,this._overrideRedirectResult=F1}_openPopup(e,n,r,i){return D(this,null,function*(){var s;sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield mD(e,n,r,qp(),i);return uL(e,o,BD())})}_openRedirect(e,n,r,i){return D(this,null,function*(){yield this._originValidation(e);let s=yield mD(e,n,r,qp(),i);return w1(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(sr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return D(this,null,function*(){let n=yield rL(e),r=new rg(e);return n.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zp,{type:zp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[zp];o!==void 0&&n(!!o),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kD()||RD()||hg()}},WD=ig;var yD="@firebase/auth",vD="1.7.8";var sg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mL(t){er(new Ot("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LD(t)},d=new Yp(r,i,s,u);return u1(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),er(new Ot("auth-internal",e=>{let n=fg(e.getProvider("auth").getImmediate());return(r=>new sg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ke(yD,vD,gL(t)),ke(yD,vD,"esm2017")}var yL=5*60,vL=Ep("authIdTokenMaxAge")||yL,ID=null,IL=t=>e=>D(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vL)return;let i=n?.token;ID!==i&&(ID=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function _g(t=ns()){let e=qo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gg(t,{popupRedirectResolver:WD,persistence:[HD,jD,Ig]}),r=Ep("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=IL(s.toString());vg(n,o,()=>o(n.currentUser)),yg(n,c=>o(c))}}let i=_p("auth");return i&&mg(n,`http://${i}`),n}function _L(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}o1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_L().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mL("Browser");var KD="auth",Zo=class{constructor(e){return e}},Xo=class{constructor(){return Ho(KD)}};var wg=new V("angularfire2.auth-instances");function pF(t,e){let n=ku(KD,t,e);return n&&new Zo(n)}function gF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zo(r)}}var mF={provide:Xo,deps:[[new at,wg]]},yF={provide:Zo,useFactory:pF,deps:[[new at,wg],bn]};function QD(t,...e){return ke("angularfire",$r.full,"auth"),mt([yF,mF,{provide:wg,useFactory:gF(t),multi:!0,deps:[he,rt,ss,zr,[new at,is],...e]}])}var YD=nr(_g,!0);var JD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ZD={};var Eg,XD;(function(){var t;function e(w,m){function y(){}y.prototype=m.prototype,w.D=m.prototype,w.prototype=new y,w.prototype.constructor=w,w.C=function(_,T,C){for(var v=Array(arguments.length-2),cn=2;cn<arguments.length;cn++)v[cn-2]=arguments[cn];return m.prototype[T].apply(_,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,m,y){y||(y=0);var _=Array(16);if(typeof m=="string")for(var T=0;16>T;++T)_[T]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(T=0;16>T;++T)_[T]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=w.g[0],y=w.g[1],T=w.g[2];var C=w.g[3],v=m+(C^y&(T^C))+_[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+_[1]+3905402710&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+_[2]+606105819&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+_[3]+3250441966&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(C^y&(T^C))+_[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+_[5]+1200080426&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+_[6]+2821735955&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+_[7]+4249261313&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(C^y&(T^C))+_[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+_[9]+2336552879&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+_[10]+4294925233&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+_[11]+2304563134&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(C^y&(T^C))+_[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+_[13]+4254626195&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+_[14]+2792965006&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+_[15]+1236535329&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(T^C&(y^T))+_[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+_[6]+3225465664&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+_[11]+643717713&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+_[0]+3921069994&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^C&(y^T))+_[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+_[10]+38016083&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+_[15]+3634488961&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+_[4]+3889429448&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^C&(y^T))+_[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+_[14]+3275163606&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+_[3]+4107603335&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+_[8]+1163531501&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^C&(y^T))+_[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+_[2]+4243563512&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+_[7]+1735328473&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+_[12]+2368359562&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(y^T^C)+_[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+_[8]+2272392833&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+_[11]+1839030562&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+_[14]+4259657740&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^C)+_[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+_[4]+1272893353&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+_[7]+4139469664&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+_[10]+3200236656&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^C)+_[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+_[0]+3936430074&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+_[3]+3572445317&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+_[6]+76029189&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^C)+_[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+_[12]+3873151461&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+_[15]+530742520&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+_[2]+3299628645&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(T^(y|~C))+_[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+_[7]+1126891415&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+_[14]+2878612391&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+_[5]+4237533241&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~C))+_[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+_[3]+2399980690&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+_[10]+4293915773&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+_[1]+2240044497&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~C))+_[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+_[15]+4264355552&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+_[6]+2734768916&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+_[13]+1309151649&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~C))+_[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+_[11]+3174756917&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+_[2]+718787259&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+_[9]+3951481745&4294967295,w.g[0]=w.g[0]+m&4294967295,w.g[1]=w.g[1]+(T+(v<<21&4294967295|v>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,m){m===void 0&&(m=w.length);for(var y=m-this.blockSize,_=this.B,T=this.h,C=0;C<m;){if(T==0)for(;C<=y;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<m;)if(_[T++]=w.charCodeAt(C++),T==this.blockSize){i(this,_),T=0;break}}else for(;C<m;)if(_[T++]=w[C++],T==this.blockSize){i(this,_),T=0;break}}this.h=T,this.o+=m},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var m=1;m<w.length-8;++m)w[m]=0;var y=8*this.o;for(m=w.length-8;m<w.length;++m)w[m]=y&255,y/=256;for(this.u(w),w=Array(16),m=y=0;4>m;++m)for(var _=0;32>_;_+=8)w[y++]=this.g[m]>>>_&255;return w};function s(w,m){var y=c;return Object.prototype.hasOwnProperty.call(y,w)?y[w]:y[w]=m(w)}function o(w,m){this.h=m;for(var y=[],_=!0,T=w.length-1;0<=T;T--){var C=w[T]|0;_&&C==m||(y[T]=C,_=!1)}this.g=y}var c={};function u(w){return-128<=w&&128>w?s(w,function(m){return new o([m|0],0>m?-1:0)}):new o([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return g;if(0>w)return P(d(-w));for(var m=[],y=1,_=0;w>=y;_++)m[_]=w/y|0,y*=4294967296;return new o(m,0)}function f(w,m){if(w.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(w.charAt(0)=="-")return P(f(w.substring(1),m));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(m,8)),_=g,T=0;T<w.length;T+=8){var C=Math.min(8,w.length-T),v=parseInt(w.substring(T,T+C),m);8>C?(C=d(Math.pow(m,C)),_=_.j(C).add(d(v))):(_=_.j(y),_=_.add(d(v)))}return _}var g=u(0),I=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-P(this).m();for(var w=0,m=1,y=0;y<this.g.length;y++){var _=this.i(y);w+=(0<=_?_:4294967296+_)*m,m*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(x(this))return"-"+P(this).toString(w);for(var m=d(Math.pow(w,6)),y=this,_="";;){var T=ne(y,m).g;y=F(y,T.j(m));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(w);if(y=T,A(y))return C+_;for(;6>C.length;)C="0"+C;_=C+_}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var m=0;m<w.g.length;m++)if(w.g[m]!=0)return!1;return!0}function x(w){return w.h==-1}t.l=function(w){return w=F(this,w),x(w)?-1:A(w)?0:1};function P(w){for(var m=w.g.length,y=[],_=0;_<m;_++)y[_]=~w.g[_];return new o(y,~w.h).add(I)}t.abs=function(){return x(this)?P(this):this},t.add=function(w){for(var m=Math.max(this.g.length,w.g.length),y=[],_=0,T=0;T<=m;T++){var C=_+(this.i(T)&65535)+(w.i(T)&65535),v=(C>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);_=v>>>16,C&=65535,v&=65535,y[T]=v<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(w,m){return w.add(P(m))}t.j=function(w){if(A(this)||A(w))return g;if(x(this))return x(w)?P(this).j(P(w)):P(P(this).j(w));if(x(w))return P(this.j(P(w)));if(0>this.l(E)&&0>w.l(E))return d(this.m()*w.m());for(var m=this.g.length+w.g.length,y=[],_=0;_<2*m;_++)y[_]=0;for(_=0;_<this.g.length;_++)for(var T=0;T<w.g.length;T++){var C=this.i(_)>>>16,v=this.i(_)&65535,cn=w.i(T)>>>16,Ss=w.i(T)&65535;y[2*_+2*T]+=v*Ss,z(y,2*_+2*T),y[2*_+2*T+1]+=C*Ss,z(y,2*_+2*T+1),y[2*_+2*T+1]+=v*cn,z(y,2*_+2*T+1),y[2*_+2*T+2]+=C*cn,z(y,2*_+2*T+2)}for(_=0;_<m;_++)y[_]=y[2*_+1]<<16|y[2*_];for(_=m;_<2*m;_++)y[_]=0;return new o(y,0)};function z(w,m){for(;(w[m]&65535)!=w[m];)w[m+1]+=w[m]>>>16,w[m]&=65535,m++}function W(w,m){this.g=w,this.h=m}function ne(w,m){if(A(m))throw Error("division by zero");if(A(w))return new W(g,g);if(x(w))return m=ne(P(w),m),new W(P(m.g),P(m.h));if(x(m))return m=ne(w,P(m)),new W(P(m.g),m.h);if(30<w.g.length){if(x(w)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var y=I,_=m;0>=_.l(w);)y=Pe(y),_=Pe(_);var T=ae(y,1),C=ae(_,1);for(_=ae(_,2),y=ae(y,2);!A(_);){var v=C.add(_);0>=v.l(w)&&(T=T.add(y),C=v),_=ae(_,1),y=ae(y,1)}return m=F(w,T.j(m)),new W(T,m)}for(T=g;0<=w.l(m);){for(y=Math.max(1,Math.floor(w.m()/m.m())),_=Math.ceil(Math.log(y)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),C=d(y),v=C.j(m);x(v)||0<v.l(w);)y-=_,C=d(y),v=C.j(m);A(C)&&(C=I),T=T.add(C),w=F(w,v)}return new W(T,w)}t.A=function(w){return ne(this,w).h},t.and=function(w){for(var m=Math.max(this.g.length,w.g.length),y=[],_=0;_<m;_++)y[_]=this.i(_)&w.i(_);return new o(y,this.h&w.h)},t.or=function(w){for(var m=Math.max(this.g.length,w.g.length),y=[],_=0;_<m;_++)y[_]=this.i(_)|w.i(_);return new o(y,this.h|w.h)},t.xor=function(w){for(var m=Math.max(this.g.length,w.g.length),y=[],_=0;_<m;_++)y[_]=this.i(_)^w.i(_);return new o(y,this.h^w.h)};function Pe(w){for(var m=w.g.length+1,y=[],_=0;_<m;_++)y[_]=w.i(_)<<1|w.i(_-1)>>>31;return new o(y,w.h)}function ae(w,m){var y=m>>5;m%=32;for(var _=w.g.length-y,T=[],C=0;C<_;C++)T[C]=0<m?w.i(C+y)>>>m|w.i(C+y+1)<<32-m:w.i(C+y);return new o(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XD=ZD.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Eg=ZD.Integer=o}).apply(typeof JD<"u"?JD:typeof self<"u"?self:typeof window<"u"?window:{});var el=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},An={};var Tg,Dg,cs,bg,ea,tl,Cg,Sg,Ag;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof el=="object"&&el];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function s(a,l){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:l(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(l,h){return h})}});var o=o||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(l,b)}}return function(){return a.apply(l,arguments)}}function I(a,l,h){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,I.apply(null,arguments)}function E(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var O=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)O[fe-2]=arguments[fe];return l.prototype[b].apply(p,O)}}function x(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function P(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let O=0;O<S;O++)a[b+O]=p[O]}else a.push(p)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function z(a){return/^[\s\xa0]*$/.test(a)}function W(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ne(a){return ne[" "](a),a}ne[" "]=function(){};var Pe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ae(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function w(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(a,l){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function T(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Fl;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class cn{constructor(){this.h=this.g=null}add(l,h){let p=Ss.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var Ss=new F(()=>new EC,a=>a.reset());class EC{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let As,Rs=!1,Fl=new cn,ay=()=>{let a=c.Promise.resolve(void 0);As=()=>{a.then(TC)}};var TC=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){C(h)}var l=Ss;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}Rs=!1};function Pn(){this.s=this.s,this.C=this.C}Pn.prototype.s=!1,Pn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var DC=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function Ns(a,l){if(We.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Pe){e:{try{ne(l.nodeName);var b=!0;break e}catch{}b=!1}b||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:bC[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ns.aa.h.call(this)}}A(Ns,We);var bC={2:"touch",3:"pen",4:"mouse"};Ns.prototype.h=function(){Ns.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ms="closure_listenable_"+(1e6*Math.random()|0),CC=0;function SC(a,l,h,p,b){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=b,this.key=++CC,this.da=this.fa=!1}function pa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ga(a){this.src=a,this.g={},this.h=0}ga.prototype.add=function(a,l,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var O=Ul(a,l,p,b);return-1<O?(l=a[O],h||(l.fa=!1)):(l=new SC(l,this.src,S,!!p,b),l.fa=h,a.push(l)),l};function Vl(a,l){var h=l.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,l,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(pa(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Ul(a,l,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==l&&S.capture==!!h&&S.ha==p)return b}return-1}var jl="closure_lm_"+(1e6*Math.random()|0),Bl={};function cy(a,l,h,p,b){if(p&&p.once)return ly(a,l,h,p,b);if(Array.isArray(l)){for(var S=0;S<l.length;S++)cy(a,l[S],h,p,b);return null}return h=Hl(h),a&&a[Ms]?a.K(l,h,d(p)?!!p.capture:!!p,b):uy(a,l,h,!1,p,b)}function uy(a,l,h,p,b,S){if(!l)throw Error("Invalid event type");var O=d(b)?!!b.capture:!!b,fe=zl(a);if(fe||(a[jl]=fe=new ga(a)),h=fe.add(l,h,p,O,S),h.proxy)return h;if(p=AC(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)DC||(b=O),b===void 0&&(b=!1),a.addEventListener(l.toString(),p,b);else if(a.attachEvent)a.attachEvent(hy(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function AC(){function a(h){return l.call(a.src,a.listener,h)}let l=RC;return a}function ly(a,l,h,p,b){if(Array.isArray(l)){for(var S=0;S<l.length;S++)ly(a,l[S],h,p,b);return null}return h=Hl(h),a&&a[Ms]?a.L(l,h,d(p)?!!p.capture:!!p,b):uy(a,l,h,!0,p,b)}function dy(a,l,h,p,b){if(Array.isArray(l))for(var S=0;S<l.length;S++)dy(a,l[S],h,p,b);else p=d(p)?!!p.capture:!!p,h=Hl(h),a&&a[Ms]?(a=a.i,l=String(l).toString(),l in a.g&&(S=a.g[l],h=Ul(S,h,p,b),-1<h&&(pa(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[l],a.h--)))):a&&(a=zl(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Ul(l,h,p,b)),(h=-1<a?l[a]:null)&&$l(h))}function $l(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[Ms])Vl(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(hy(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=zl(l))?(Vl(h,a),h.h==0&&(h.src=null,l[jl]=null)):pa(a)}}}function hy(a){return a in Bl?Bl[a]:Bl[a]="on"+a}function RC(a,l){if(a.da)a=!0;else{l=new Ns(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&$l(a),a=h.call(p,l)}return a}function zl(a){return a=a[jl],a instanceof ga?a:null}var ql="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(a){return typeof a=="function"?a:(a[ql]||(a[ql]=function(l){return a.handleEvent(l)}),a[ql])}function Ke(){Pn.call(this),this.i=new ga(this),this.M=this,this.F=null}A(Ke,Pn),Ke.prototype[Ms]=!0,Ke.prototype.removeEventListener=function(a,l,h,p){dy(this,a,l,h,p)};function tt(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new We(l,a);else if(l instanceof We)l.target=l.target||a;else{var b=l;l=new We(p,a),_(l,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var O=l.g=h[S];b=ma(O,p,!0,l)&&b}if(O=l.g=a,b=ma(O,p,!0,l)&&b,b=ma(O,p,!1,l)&&b,h)for(S=0;S<h.length;S++)O=l.g=h[S],b=ma(O,p,!1,l)&&b}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)pa(h[p]);delete a.g[l],a.h--}}this.F=null},Ke.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},Ke.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function ma(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var b=!0,S=0;S<l.length;++S){var O=l[S];if(O&&!O.da&&O.capture==h){var fe=O.listener,Be=O.ha||O.src;O.fa&&Vl(a.i,O),b=fe.call(Be,p)!==!1&&b}}return b&&!p.defaultPrevented}function fy(a,l,h){if(typeof a=="function")h&&(a=I(a,h));else if(a&&typeof a.handleEvent=="function")a=I(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function py(a){a.g=fy(()=>{a.g=null,a.i&&(a.i=!1,py(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class NC extends Pn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:py(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(a){Pn.call(this),this.h=a,this.g={}}A(xs,Pn);var gy=[];function my(a){ae(a.g,function(l,h){this.g.hasOwnProperty(h)&&$l(l)},a),a.g={}}xs.prototype.N=function(){xs.aa.N.call(this),my(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gl=c.JSON.stringify,MC=c.JSON.parse,xC=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Wl(){}Wl.prototype.h=null;function yy(a){return a.h||(a.h=a.i())}function vy(){}var Ps={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kl(){We.call(this,"d")}A(Kl,We);function Ql(){We.call(this,"c")}A(Ql,We);var dr={},Iy=null;function ya(){return Iy=Iy||new Ke}dr.La="serverreachability";function _y(a){We.call(this,dr.La,a)}A(_y,We);function Os(a){let l=ya();tt(l,new _y(l))}dr.STAT_EVENT="statevent";function wy(a,l){We.call(this,dr.STAT_EVENT,a),this.stat=l}A(wy,We);function nt(a){let l=ya();tt(l,new wy(l,a))}dr.Ma="timingevent";function Ey(a,l){We.call(this,dr.Ma,a),this.size=l}A(Ey,We);function ks(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Ls(){this.g=!0}Ls.prototype.xa=function(){this.g=!1};function PC(a,l,h,p,b,S){a.info(function(){if(a.g)if(S)for(var O="",fe=S.split("&"),Be=0;Be<fe.length;Be++){var ce=fe[Be].split("=");if(1<ce.length){var Qe=ce[0];ce=ce[1];var Ye=Qe.split("_");O=2<=Ye.length&&Ye[1]=="type"?O+(Qe+"="+ce+"&"):O+(Qe+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+l+`
`+h+`
`+O})}function OC(a,l,h,p,b,S,O){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+l+`
`+h+`
`+S+" "+O})}function ii(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+LC(a,h)+(p?" "+p:"")})}function kC(a,l){a.info(function(){return"TIMEOUT: "+l})}Ls.prototype.info=function(){};function LC(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return Gl(h)}catch{return l}}var va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ty={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yl;function Ia(){}A(Ia,Wl),Ia.prototype.g=function(){return new XMLHttpRequest},Ia.prototype.i=function(){return{}},Yl=new Ia;function On(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dy}function Dy(){this.i=null,this.g="",this.h=!1}var by={},Jl={};function Zl(a,l,h){a.L=1,a.v=Ta(un(l)),a.m=h,a.P=!0,Cy(a,null)}function Cy(a,l){a.F=Date.now(),_a(a),a.A=un(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),jy(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Dy,a.g=iv(a.j,h?l:null,!a.m),0<a.O&&(a.M=new NC(I(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(gy[0]=b.toString()),b=gy);for(var S=0;S<b.length;S++){var O=cy(h,b[S],p||l.handleEvent,!1,l.h||l);if(!O)break;l.g[O.key]=O}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Os(),PC(a.i,a.u,a.A,a.l,a.R,a.m)}On.prototype.ca=function(a){a=a.target;let l=this.M;l&&ln(a)==3?l.j():this.Y(a)},On.prototype.Y=function(a){try{if(a==this.g)e:{let Ye=ln(this.g);var l=this.g.Ba();let ai=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||Wy(this.g)))){this.J||Ye!=4||l==7||(l==8||0>=ai?Os(3):Os(2)),Xl(this);var h=this.g.Z();this.X=h;t:if(Sy(this)){var p=Wy(this.g);a="";var b=p.length,S=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),Fs(this);var O="";break t}this.h.i=new c.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(S&&l==b-1)});p.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,OC(this.i,this.u,this.A,this.l,this.R,Ye,h),this.o){if(this.T&&!this.K){t:{if(this.g){var fe,Be=this.g;if((fe=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(fe)){var ce=fe;break t}}ce=null}if(h=ce)ii(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ed(this,h);else{this.o=!1,this.s=3,nt(12),hr(this),Fs(this);break e}}if(this.P){h=!0;let kt;for(;!this.J&&this.C<O.length;)if(kt=FC(this,O),kt==Jl){Ye==4&&(this.s=4,nt(14),h=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==by){this.s=4,nt(15),ii(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else ii(this.i,this.l,kt,null),ed(this,kt);if(Sy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||O.length!=0||this.h.h||(this.s=1,nt(16),h=!1),this.o=this.o&&h,!h)ii(this.i,this.l,O,"[Invalid Chunked Response]"),hr(this),Fs(this);else if(0<O.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),od(Qe),Qe.M=!0,nt(11))}}else ii(this.i,this.l,O,null),ed(this,O);Ye==4&&hr(this),this.o&&!this.J&&(Ye==4?ev(this.j,this):(this.o=!1,_a(this)))}else e0(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),hr(this),Fs(this)}}}catch{}finally{}};function Sy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function FC(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?Jl:(h=Number(l.substring(h,p)),isNaN(h)?by:(p+=1,p+h>l.length?Jl:(l=l.slice(p,p+h),a.C=p+h,l)))}On.prototype.cancel=function(){this.J=!0,hr(this)};function _a(a){a.S=Date.now()+a.I,Ay(a,a.I)}function Ay(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ks(I(a.ba,a),l)}function Xl(a){a.B&&(c.clearTimeout(a.B),a.B=null)}On.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(kC(this.i,this.A),this.L!=2&&(Os(),nt(17)),hr(this),this.s=2,Fs(this)):Ay(this,this.S-a)};function Fs(a){a.j.G==0||a.J||ev(a.j,a)}function hr(a){Xl(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,my(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function ed(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||td(h.h,a))){if(!a.K&&td(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Aa(h),Ca(h);else break e;sd(h),nt(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=ks(I(h.Za,h),6e3));if(1>=My(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else pr(h,11)}else if((a.K||h.g==a)&&Aa(h),!z(l))for(b=h.Da.g.parse(l),l=0;l<b.length;l++){let ce=b[l];if(h.T=ce[0],ce=ce[1],h.G==2)if(ce[0]=="c"){h.K=ce[1],h.ia=ce[2];let Qe=ce[3];Qe!=null&&(h.la=Qe,h.j.info("VER="+h.la));let Ye=ce[4];Ye!=null&&(h.Aa=Ye,h.j.info("SVER="+h.Aa));let ai=ce[5];ai!=null&&typeof ai=="number"&&0<ai&&(p=1.5*ai,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let kt=a.g;if(kt){let Na=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var S=p.h;S.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(nd(S,S.h),S.h=null))}if(p.D){let ad=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;ad&&(p.ya=ad,ye(p.I,p.D,ad))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var O=a;if(p.qa=rv(p,p.J?p.ia:null,p.W),O.K){xy(p.h,O);var fe=O,Be=p.L;Be&&(fe.I=Be),fe.B&&(Xl(fe),_a(fe)),p.g=O}else Zy(p);0<h.i.length&&Sa(h)}else ce[0]!="stop"&&ce[0]!="close"||pr(h,7);else h.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?pr(h,7):id(h):ce[0]!="noop"&&h.l&&h.l.ta(ce),h.v=0)}}Os(4)}catch{}}var VC=class{constructor(a,l){this.g=a,this.map=l}};function Ry(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ny(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function My(a){return a.h?1:a.g?a.g.size:0}function td(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function nd(a,l){a.g?a.g.add(l):a.h=l}function xy(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}Ry.prototype.cancel=function(){if(this.i=Py(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Py(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return x(a.i)}function UC(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function jC(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function Oy(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=jC(a),p=UC(a),b=p.length,S=0;S<b;S++)l.call(void 0,p[S],h&&h[S],a)}var ky=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BC(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];l(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function fr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof fr){this.h=a.h,wa(this,a.j),this.o=a.o,this.g=a.g,Ea(this,a.s),this.l=a.l;var l=a.i,h=new js;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),Ly(this,h),this.m=a.m}else a&&(l=String(a).match(ky))?(this.h=!1,wa(this,l[1]||"",!0),this.o=Vs(l[2]||""),this.g=Vs(l[3]||"",!0),Ea(this,l[4]),this.l=Vs(l[5]||"",!0),Ly(this,l[6]||"",!0),this.m=Vs(l[7]||"")):(this.h=!1,this.i=new js(null,this.h))}fr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(Us(l,Fy,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Us(l,Fy,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Us(h,h.charAt(0)=="/"?qC:zC,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Us(h,GC)),a.join("")};function un(a){return new fr(a)}function wa(a,l,h){a.j=h?Vs(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Ea(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function Ly(a,l,h){l instanceof js?(a.i=l,WC(a.i,a.h)):(h||(l=Us(l,HC)),a.i=new js(l,a.h))}function ye(a,l,h){a.i.set(l,h)}function Ta(a){return ye(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Vs(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Us(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,$C),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function $C(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Fy=/[#\/\?@]/g,zC=/[#\?:]/g,qC=/[#\?]/g,HC=/[#\?@]/g,GC=/#/g;function js(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function kn(a){a.g||(a.g=new Map,a.h=0,a.i&&BC(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=js.prototype,t.add=function(a,l){kn(this),this.i=null,a=si(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function Vy(a,l){kn(a),l=si(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function Uy(a,l){return kn(a),l=si(a,l),a.g.has(l)}t.forEach=function(a,l){kn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(l,b,p,this)},this)},this)},t.na=function(){kn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(l[p])}return h},t.V=function(a){kn(this);let l=[];if(typeof a=="string")Uy(this,a)&&(l=l.concat(this.g.get(si(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return kn(this),this.i=null,a=si(this,a),Uy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function jy(a,l,h){Vy(a,l),0<h.length&&(a.i=null,a.g.set(si(a,l),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let S=encodeURIComponent(String(p)),O=this.V(p);for(p=0;p<O.length;p++){var b=S;O[p]!==""&&(b+="="+encodeURIComponent(String(O[p]))),a.push(b)}}return this.i=a.join("&")};function si(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function WC(a,l){l&&!a.j&&(kn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(Vy(this,p),jy(this,b,h))},a)),a.j=l}function KC(a,l){let h=new Ls;if(c.Image){let p=new Image;p.onload=E(Ln,h,"TestLoadImage: loaded",!0,l,p),p.onerror=E(Ln,h,"TestLoadImage: error",!1,l,p),p.onabort=E(Ln,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=E(Ln,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function QC(a,l){let h=new Ls,p=new AbortController,b=setTimeout(()=>{p.abort(),Ln(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?Ln(h,"TestPingServer: ok",!0,l):Ln(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(b),Ln(h,"TestPingServer: error",!1,l)})}function Ln(a,l,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function YC(){this.g=new xC}function JC(a,l,h){let p=h||"";try{Oy(a,function(b,S){let O=b;d(b)&&(O=Gl(b)),l.push(p+S+"="+encodeURIComponent(O))})}catch(b){throw l.push(p+"type="+encodeURIComponent("_badmap")),b}}function Bs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Bs,Wl),Bs.prototype.g=function(){return new Da(this.l,this.j)},Bs.prototype.i=function(a){return function(){return a}}({});function Da(a,l){Ke.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Da,Ke),t=Da.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,zs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;By(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function By(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?$s(this):zs(this),this.readyState==3&&By(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,$s(this))},t.Qa=function(a){this.g&&(this.response=a,$s(this))},t.ga=function(){this.g&&$s(this)};function $s(a){a.readyState=4,a.l=null,a.j=null,a.v=null,zs(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function zs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function $y(a){let l="";return ae(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function rd(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=$y(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):ye(a,l,h))}function we(a){Ke.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(we,Ke);var ZC=/^https?$/i,XC=["POST","PUT"];t=we.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yl.g(),this.v=this.o?yy(this.o):yy(Yl),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(S){zy(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(XC,l,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of h)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gy(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){zy(this,S)}};function zy(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,qy(a),ba(a)}function qy(a){a.A||(a.A=!0,tt(a,"complete"),tt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,tt(this,"complete"),tt(this,"abort"),ba(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ba(this,!0)),we.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hy(this):this.bb())},t.bb=function(){Hy(this)};function Hy(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ln(a)!=4||a.Z()!=2)){if(a.u&&ln(a)==4)fy(a.Ea,0,a);else if(tt(a,"readystatechange"),ln(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=O===0){var b=String(a.D).match(ky)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!ZC.test(b?b.toLowerCase():"")}h=p}if(h)tt(a,"complete"),tt(a,"success");else{a.m=6;try{var S=2<ln(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",qy(a)}}finally{ba(a)}}}}function ba(a,l){if(a.g){Gy(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||tt(a,"ready");try{h.onreadystatechange=p}catch{}}}function Gy(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ln(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),MC(l)}};function Wy(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function e0(a){let l={};a=(a.g&&2<=ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(z(a[p]))continue;var h=T(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=l[b]||[];l[b]=S,S.push(h)}w(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function Ky(a){this.Aa=0,this.i=[],this.j=new Ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,a),this.cb=qs("retryDelaySeedMs",1e4,a),this.Wa=qs("forwardChannelMaxRetries",2,a),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ry(a&&a.concurrentRequestLimit),this.Da=new YC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ky.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){nt(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=rv(this,null,this.W),Sa(this)};function id(a){if(Qy(a),a.G==3){var l=a.U++,h=un(a.I);if(ye(h,"SID",a.K),ye(h,"RID",l),ye(h,"TYPE","terminate"),Hs(a,h),l=new On(a,a.j,l),l.L=2,l.v=Ta(un(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=iv(l.j,null),l.g.ea(l.v)),l.F=Date.now(),_a(l)}nv(a)}function Ca(a){a.g&&(od(a),a.g.cancel(),a.g=null)}function Qy(a){Ca(a),a.u&&(c.clearTimeout(a.u),a.u=null),Aa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Sa(a){if(!Ny(a.h)&&!a.s){a.s=!0;var l=a.Ga;As||ay(),Rs||(As(),Rs=!0),Fl.add(l,a),a.B=0}}function t0(a,l){return My(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ks(I(a.Ga,a,l),tv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new On(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),_(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=Jy(this,b,l),h=un(this.I),ye(h,"RID",a),ye(h,"CVER",22),this.D&&ye(h,"X-HTTP-Session-Id",this.D),Hs(this,h),S&&(this.O?l="headers="+encodeURIComponent(String($y(S)))+"&"+l:this.m&&rd(h,this.m,S)),nd(this.h,b),this.Ua&&ye(h,"TYPE","init"),this.P?(ye(h,"$req",l),ye(h,"SID","null"),b.T=!0,Zl(b,h,null)):Zl(b,h,l),this.G=2}}else this.G==3&&(a?Yy(this,a):this.i.length==0||Ny(this.h)||Yy(this))};function Yy(a,l){var h;l?h=l.l:h=a.U++;let p=un(a.I);ye(p,"SID",a.K),ye(p,"RID",h),ye(p,"AID",a.T),Hs(a,p),a.m&&a.o&&rd(p,a.m,a.o),h=new On(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=Jy(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),nd(a.h,h),Zl(h,p,l)}function Hs(a,l){a.H&&ae(a.H,function(h,p){ye(l,p,h)}),a.l&&Oy({},function(h,p){ye(l,p,h)})}function Jy(a,l,h){h=Math.min(a.i.length,h);var p=a.l?I(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let O=["count="+h];S==-1?0<h?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let fe=!0;for(let Be=0;Be<h;Be++){let ce=b[Be].g,Qe=b[Be].map;if(ce-=S,0>ce)S=Math.max(0,b[Be].g-100),fe=!1;else try{JC(Qe,O,"req"+ce+"_")}catch{p&&p(Qe)}}if(fe){p=O.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function Zy(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;As||ay(),Rs||(As(),Rs=!0),Fl.add(l,a),a.v=0}}function sd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ks(I(a.Fa,a),tv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Xy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ks(I(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Ca(this),Xy(this))};function od(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Xy(a){a.g=new On(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=un(a.qa);ye(l,"RID","rpc"),ye(l,"SID",a.K),ye(l,"AID",a.T),ye(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&ye(l,"TO",a.ja),ye(l,"TYPE","xmlhttp"),Hs(a,l),a.m&&a.o&&rd(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ta(un(l)),h.m=null,h.P=!0,Cy(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ca(this),sd(this),nt(19))};function Aa(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function ev(a,l){var h=null;if(a.g==l){Aa(a),od(a),a.g=null;var p=2}else if(td(a.h,l))h=l.D,xy(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var b=a.B;p=ya(),tt(p,new Ey(p,h)),Sa(a)}else Zy(a);else if(b=l.s,b==3||b==0&&0<l.X||!(p==1&&t0(a,l)||p==2&&sd(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),b){case 1:pr(a,5);break;case 4:pr(a,10);break;case 3:pr(a,6);break;default:pr(a,2)}}}function tv(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function pr(a,l){if(a.j.info("Error code "+l),l==2){var h=I(a.fb,a),p=a.Xa;let b=!p;p=new fr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wa(p,"https"),Ta(p),b?KC(p.toString(),h):QC(p.toString(),h)}else nt(2);a.G=0,a.l&&a.l.sa(l),nv(a),Qy(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function nv(a){if(a.G=0,a.ka=[],a.l){let l=Py(a.h);(l.length!=0||a.i.length!=0)&&(P(a.ka,l),P(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function rv(a,l,h){var p=h instanceof fr?un(h):new fr(h);if(p.g!="")l&&(p.g=l+"."+p.g),Ea(p,p.s);else{var b=c.location;p=b.protocol,l=l?l+"."+b.hostname:b.hostname,b=+b.port;var S=new fr(null);p&&wa(S,p),l&&(S.g=l),b&&Ea(S,b),h&&(S.l=h),p=S}return h=a.D,l=a.ya,h&&l&&ye(p,h,l),ye(p,"VER",a.la),Hs(a,p),p}function iv(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new we(new Bs({eb:h})):new we(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sv(){}t=sv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ra(){}Ra.prototype.g=function(a,l){return new lt(a,l)};function lt(a,l){Ke.call(this),this.g=new Ky(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!z(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!z(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new oi(this)}A(lt,Ke),lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lt.prototype.close=function(){id(this.g)},lt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Gl(a),a=h);l.i.push(new VC(l.Ya++,a)),l.G==3&&Sa(l)},lt.prototype.N=function(){this.g.l=null,delete this.j,id(this.g),delete this.g,lt.aa.N.call(this)};function ov(a){Kl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(ov,Kl);function av(){Ql.call(this),this.status=1}A(av,Ql);function oi(a){this.g=a}A(oi,sv),oi.prototype.ua=function(){tt(this.g,"a")},oi.prototype.ta=function(a){tt(this.g,new ov(a))},oi.prototype.sa=function(a){tt(this.g,new av)},oi.prototype.ra=function(){tt(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,lt.prototype.send=lt.prototype.o,lt.prototype.open=lt.prototype.m,lt.prototype.close=lt.prototype.close,Ag=An.createWebChannelTransport=function(){return new Ra},Sg=An.getStatEventTarget=function(){return ya()},Cg=An.Event=dr,tl=An.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,ea=An.ErrorCode=va,Ty.COMPLETE="complete",bg=An.EventType=Ty,vy.EventType=Ps,Ps.OPEN="a",Ps.CLOSE="b",Ps.ERROR="c",Ps.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,cs=An.WebChannel=vy,Dg=An.FetchXmlHttpFactory=Bs,we.prototype.listenOnce=we.prototype.L,we.prototype.getLastError=we.prototype.Ka,we.prototype.getLastErrorCode=we.prototype.Ba,we.prototype.getStatus=we.prototype.Z,we.prototype.getResponseJson=we.prototype.Oa,we.prototype.getResponseText=we.prototype.oa,we.prototype.send=we.prototype.ea,we.prototype.setWithCredentials=we.prototype.Ha,Tg=An.XhrIo=we}).apply(typeof el<"u"?el:typeof self<"u"?self:typeof window<"u"?window:{});var eb="@firebase/firestore";var Ue=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");var Cs="10.13.1";var Jr=new Zn("@firebase/firestore");function ta(){return Jr.logLevel}function L(t,...e){if(Jr.logLevel<=ee.DEBUG){let n=e.map(Ym);Jr.debug(`Firestore (${Cs}): ${t}`,...n)}}function Zr(t,...e){if(Jr.logLevel<=ee.ERROR){let n=e.map(Ym);Jr.error(`Firestore (${Cs}): ${t}`,...n)}}function al(t,...e){if(Jr.logLevel<=ee.WARN){let n=e.map(Ym);Jr.warn(`Firestore (${Cs}): ${t}`,...n)}}function Ym(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function te(t="Unexpected state"){let e=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: `+t;throw Zr(e),new Error(e)}function Le(t,e){t||te()}function me(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends It{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var cl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ue.UNAUTHENTICATED))}shutdown(){}},Pg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Og=class{constructor(e){this.t=e,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new cl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new Ue(e)}},kg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Lg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new Fg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function vF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ul=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=vF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var et=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ll=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},xe=class t extends ll{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},IF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wt=class t extends ll{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return IF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new j(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new j(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new j(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};var Ug=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ug.UNKNOWN_ID=-1;function _F(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Xr(i,Z.empty(),e)}function wF(t){return new Xr(t.readTime,t.key,-1)}var Xr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Se.min(),Z.empty(),-1)}static max(){return new t(Se.max(),Z.empty(),-1)}};function EF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var TF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Eb(t){return D(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==TF)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function DF(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(t){return t.name==="IndexedDbTransactionError"}var bF=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Jm(t){return t==null}function aa(t){return t===0&&1/t==-1/0}function CF(t){return typeof t=="number"&&Number.isInteger(t)&&!aa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var SF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qG=[...SF,"documentOverlays"],AF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RF=AF,NF=[...RF,"indexConfiguration","indexState","indexEntries"];var HG=[...NF,"globals"];function tb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function da(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Et=class t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ls(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ls(this.root,e,this.comparator,!1)}getReverseIterator(){return new ls(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ls(this.root,e,this.comparator,!0)}},ls=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},on=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class t{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dl(this.data.getIterator())}getIteratorFrom(e){return new dl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},dl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sn=class t{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new t([])}unionWith(e){let n=new it(wt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Bg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mn.EMPTY_BYTE_STRING=new Mn("");var MF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(Le(!!t),typeof t=="string"){let e=0,n=MF.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fs(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}function Zm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Db(t){let e=t.mapValue.fields.__previous_value__;return Zm(e)?Db(e):e}function hl(t){let e=ar(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}var $g=class{constructor(e,n,r,i,s,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},zg=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zm(t)?4:Cb(t)?9007199254740991:bb(t)?10:11:te()}function an(t,e){if(t===e)return!0;let n=ps(t);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hl(t).isEqual(hl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ar(i.timestampValue),c=ar(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fs(i.bytesValue).isEqual(fs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Me(i.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Me(i.integerValue)===Me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Me(i.doubleValue),c=Me(s.doubleValue);return o===c?aa(o)===aa(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return hs(t.arrayValue.values||[],e.arrayValue.values||[],an);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(tb(o)!==tb(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!an(o[u],c[u])))return!1;return!0}(t,e);default:return te()}}function ca(t,e){return(t.values||[]).find(n=>an(n,e))!==void 0}function gs(t,e){if(t===e)return 0;let n=ps(t),r=ps(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Me(s.integerValue||s.doubleValue),u=Me(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return nb(t.timestampValue,e.timestampValue);case 4:return nb(hl(t),hl(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){let c=fs(s),u=fs(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=ge(c[d],u[d]);if(f!==0)return f}return ge(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ge(Me(s.latitude),Me(o.latitude));return c!==0?c:ge(Me(s.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;let g=s.fields||{},I=o.fields||{},E=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=I.value)===null||u===void 0?void 0:u.arrayValue,x=ge(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:rb(E,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===nl.mapValue&&o===nl.mapValue)return 0;if(s===nl.mapValue)return 1;if(o===nl.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let I=ge(u[g],f[g]);if(I!==0)return I;let E=gs(c[u[g]],d[f[g]]);if(E!==0)return E}return ge(u.length,f.length)}(t.mapValue,e.mapValue);default:throw te()}}function nb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=ar(t),r=ar(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function rb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=gs(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function ms(t){return qg(t)}function qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=qg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${qg(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function Hg(t){return!!t&&"integerValue"in t}function Xm(t){return!!t&&"arrayValue"in t}function sl(t){return!!t&&"mapValue"in t}function bb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ra(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return da(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ra(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ra(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Cb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var rn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=ra(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());sl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return an(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){da(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ra(this.value))}};function Sb(t){let e=[];return da(t.fields,(n,r)=>{let i=new wt([n]);if(sl(r)){let s=Sb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new sn(e)}var ys=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Se.min(),Se.min(),Se.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Se.min(),Se.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Se.min(),Se.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var vs=class{constructor(e,n){this.position=e,this.inclusive=n}};function ib(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=gs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!an(t.position[n],e.position[n]))return!1;return!0}var Is=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function xF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fl=class{},je=class t extends fl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Wg(e,n,r):n==="array-contains"?new Yg(e,r):n==="in"?new Jg(e,r):n==="not-in"?new Zg(e,r):n==="array-contains-any"?new Xg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Kg(e,r):new Qg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gs(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cr=class t extends fl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Ab(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ab(t){return t.op==="and"}function Rb(t){return PF(t)&&Ab(t)}function PF(t){for(let e of t.filters)if(e instanceof cr)return!1;return!0}function Gg(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+ms(t.value);if(Rb(t))return t.filters.map(e=>Gg(e)).join(",");{let e=t.filters.map(n=>Gg(n)).join(",");return`${t.op}(${e})`}}function Nb(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&an(r.value,i.value)}(t,e):t instanceof cr?function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&Nb(o,i.filters[c]),!0):!1}(t,e):void te()}function Mb(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${ms(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(Mb).join(" ,")+"}"}(t):"Filter"}var Wg=class extends je{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},Kg=class extends je{constructor(e,n){super(e,"in",n),this.keys=xb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Qg=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=xb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function xb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}var Yg=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Xm(n)&&ca(n.arrayValue,this.value)}},Jg=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ca(this.value.arrayValue,n)}},Zg=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ca(this.value.arrayValue,n)}},Xg=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ca(this.value.arrayValue,r))}};var em=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function ob(t,e=null,n=[],r=[],i=null,s=null,o=null){return new em(t,e,n,r,i,s,o)}function ey(t){let e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ms(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ms(r)).join(",")),e.ue=n}return e.ue}function ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sb(t.startAt,e.startAt)&&sb(t.endAt,e.endAt)}var _s=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function OF(t,e,n,r,i,s,o,c){return new _s(t,e,n,r,i,s,o,c)}function kF(t){return new _s(t)}function ab(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LF(t){return t.collectionGroup!==null}function ia(t){let e=me(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new it(wt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Is(s,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new Is(wt.keyField(),r))}return e.ce}function Qr(t){let e=me(t);return e.le||(e.le=FF(e,ia(t))),e.le}function FF(t,e){if(t.limitType==="F")return ob(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Is(i.field,s)});let n=t.endAt?new vs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vs(t.startAt.position,t.startAt.inclusive):null;return ob(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tm(t,e,n){return new _s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pb(t,e){return ty(Qr(t),Qr(e))&&t.limitType===e.limitType}function Ob(t){return`${ey(Qr(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Mb(i)).join(", ")}]`),Jm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ms(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ms(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function ny(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ia(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let d=ib(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,ia(r),i)||r.endAt&&!function(o,c,u){let d=ib(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,ia(r),i))}(t,e)}function VF(t){return(e,n)=>{let r=!1;for(let i of ia(t)){let s=UF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function UF(t,e,n){let r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?gs(u,d):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Tb(this.inner)}size(){return this.innerSize}};var jF=new Et(Z.comparator);function pl(){return jF}var kb=new Et(Z.comparator);function rl(...t){let e=kb;for(let n of t)e=e.insert(n.key,n);return e}function Lb(t){let e=kb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kr(){return sa()}function Fb(){return sa()}function sa(){return new ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var BF=new Et(Z.comparator),$F=new it(Z.comparator);function Xe(...t){let e=$F;for(let n of t)e=e.add(n);return e}var zF=new it(ge);function qF(){return zF}function ry(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aa(e)?"-0":e}}function Vb(t){return{integerValue:""+t}}function HF(t,e){return CF(e)?Vb(e):ry(t,e)}var ws=class{constructor(){this._=void 0}};function GF(t,e,n){return t instanceof Es?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zm(s)&&(s=Db(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ei?jb(t,e):t instanceof ti?Bb(t,e):function(i,s){let o=Ub(i,s),c=cb(o)+cb(i.Pe);return Hg(o)&&Hg(i.Pe)?Vb(c):ry(i.serializer,c)}(t,e)}function WF(t,e,n){return t instanceof ei?jb(t,e):t instanceof ti?Bb(t,e):n}function Ub(t,e){return t instanceof Ts?function(r){return Hg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Es=class extends ws{},ei=class extends ws{constructor(e){super(),this.elements=e}};function jb(t,e){let n=$b(e);for(let r of t.elements)n.some(i=>an(i,r))||n.push(r);return{arrayValue:{values:n}}}var ti=class extends ws{constructor(e){super(),this.elements=e}};function Bb(t,e){let n=$b(e);for(let r of t.elements)n=n.filter(i=>!an(i,r));return{arrayValue:{values:n}}}var Ts=class extends ws{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function cb(t){return Me(t.integerValue||t.doubleValue)}function $b(t){return Xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ei&&i instanceof ei||r instanceof ti&&i instanceof ti?hs(r.elements,i.elements,an):r instanceof Ts&&i instanceof Ts?an(r.Pe,i.Pe):r instanceof Es&&i instanceof Es}(t.transform,e.transform)}var nm=class{constructor(e,n){this.version=e,this.transformResults=n}},Yr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ol(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ds=class{};function zb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gl(t.key,Yr.none()):new ni(t.key,t.data,Yr.none());{let n=t.data,r=rn.empty(),i=new it(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xn(t.key,r,new sn(i.toArray()),Yr.none())}}function QF(t,e,n){t instanceof ni?function(i,s,o){let c=i.value.clone(),u=lb(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof xn?function(i,s,o){if(!ol(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=lb(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(qb(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function oa(t,e,n,r){return t instanceof ni?function(s,o,c,u){if(!ol(s.precondition,o))return c;let d=s.value.clone(),f=db(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof xn?function(s,o,c,u){if(!ol(s.precondition,o))return c;let d=db(s.fieldTransforms,u,o),f=o.data;return f.setAll(qb(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return ol(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function YF(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=Ub(r.transform,i||null);s!=null&&(n===null&&(n=rn.empty()),n.set(r.field,s))}return n||null}function ub(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hs(r,i,(s,o)=>KF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ni=class extends Ds{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xn=class extends Ds{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function qb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function lb(t,e,n){let r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,WF(o,c,n[i]))}return r}function db(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,GF(s,o,e))}return r}var gl=class extends Ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},rm=class extends Ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var im=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&QF(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=oa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=oa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Fb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=zb(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,(n,r)=>ub(n,r))&&hs(this.baseMutations,e.baseMutations,(n,r)=>ub(n,r))}},sm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return BF}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var om=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Re,se;function JF(t){switch(t){default:return te();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function ZF(t){if(t===void 0)return Zr("GRPC error has no .code"),R.UNKNOWN;switch(t){case Re.OK:return R.OK;case Re.CANCELLED:return R.CANCELLED;case Re.UNKNOWN:return R.UNKNOWN;case Re.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Re.INTERNAL:return R.INTERNAL;case Re.UNAVAILABLE:return R.UNAVAILABLE;case Re.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Re.NOT_FOUND:return R.NOT_FOUND;case Re.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Re.ABORTED:return R.ABORTED;case Re.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Re.DATA_LOSS:return R.DATA_LOSS;default:return te()}}(se=Re||(Re={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var WG=new Eg([4294967295,4294967295],0);var am=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function cm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eV(t,e){return cm(t,e.toTimestamp())}function ds(t){return Le(!!t),Se.fromTimestamp(function(n){let r=ar(n);return new et(r.seconds,r.nanos)}(t))}function Hb(t,e){return um(t,e).canonicalString()}function um(t,e){let n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tV(t){let e=xe.fromString(t);return Le(uV(e)),e}function lm(t,e){return Hb(t.databaseId,e.path)}function nV(t){let e=tV(t);return e.length===4?xe.emptyPath():iV(e)}function rV(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iV(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hb(t,e,n){return{name:lm(t,e),fields:n.value.mapValue.fields}}function sV(t,e){let n;if(e instanceof ni)n={update:hb(t,e.key,e.value)};else if(e instanceof gl)n={delete:lm(t,e.key)};else if(e instanceof xn)n={update:hb(t,e.key,e.data),updateMask:cV(e.fieldMask)};else{if(!(e instanceof rm))return te();n={verify:lm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Es)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ei)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ti)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ts)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function oV(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ds(i.updateTime):ds(s);return o.isEqual(Se.min())&&(o=ds(s)),new nm(o,i.transformResults||[])}(n,e))):[]}function aV(t){let e=nV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Le(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let I=Gb(g);return I instanceof cr&&Rb(I)?I.getFilters():[I]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(I=>function(A){return new Is(us(A.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(I))}(n.orderBy));let c=null;n.limit&&(c=function(g){let I;return I=typeof g=="object"?g.value:g,Jm(I)?null:I}(n.limit));let u=null;n.startAt&&(u=function(g){let I=!!g.before,E=g.values||[];return new vs(E,I)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let I=!g.before,E=g.values||[];return new vs(E,I)}(n.endAt)),OF(e,i,o,s,c,"F",u,d)}function Gb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=us(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=us(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=us(n.unaryFilter.field);return je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=us(n.unaryFilter.field);return je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return je.create(us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>Gb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function us(t){return wt.fromServerFormat(t.fieldPath)}function cV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var dm=class{constructor(e){this.ct=e}};function lV(t){let e=aV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tm(e,e.limit,"L"):e}var ml=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),aa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ar(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(fs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Cb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):bb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):te()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Me(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ml.vt=new ml;var hm=class{constructor(){this.un=new fm}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Xr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},fm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(xe.comparator)).toArray()}};var KG=new Uint8Array(0);var nn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(41943040,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);var ua=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var pm=class{constructor(){this.changes=new ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ys.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var gm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var mm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oa(r.mutation,i,sn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){let i=Kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rl();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=pl(),o=sa(),c=function(){return sa()}();return n.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof xn)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),oa(f.mutation,d,f.mutation.getFieldMask(),et.now())):o.set(d.key,sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new gm(f,(g=o.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=sa(),i=new Et((o,c)=>o-c),s=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=r.get(u)||sn.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||Xe()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=Fb();f.forEach(I=>{if(!s.has(I)){let E=zb(n.get(I),r.get(I));E!==null&&g.set(I,E),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Kr()),c=-1,u=s;return o.next(d=>M.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(I=>{u=u.insert(f,I)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Xe())).next(f=>({batchId:c,changes:Lb(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=rl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=rl();return this.indexManager.getCollectionParents(e,s).next(c=>M.forEach(c,u=>{let d=function(g,I){return new _s(I,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,I)=>{o=o.insert(g,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,ys.newInvalidDocument(f)))});let c=rl();return o.forEach((u,d)=>{let f=s.get(u);f!==void 0&&oa(f.mutation,d,sn.empty(),et.now()),ny(n,d)&&(c=c.insert(u,d))}),c})}};var ym=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ds(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:lV(i.bundledQuery),readTime:ds(i.readTime)}}(n)),M.resolve()}};var vm=class{constructor(){this.overlays=new Et(Z.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Kr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Kr(),s=n.length+1,o=new Z(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Et((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Kr(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Kr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return M.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new om(n,r));let s=this.Ir.get(n);s===void 0&&(s=Xe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Im=class{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var la=class{constructor(){this.Tr=new it(Ne.Er),this.dr=new it(Ne.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ne(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ne(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Z(new xe([])),r=new Ne(n,e),i=new Ne(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Z(new xe([])),r=new Ne(n,e),i=new Ne(n,e+1),s=Xe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ne(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ne=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||Z.comparator(e.key,n.key)}};var _m=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new it(Ne.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new im(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Ne(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ne(n,0),i=new Ne(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(ge);return n.forEach(i=>{let s=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Z.isDocumentKey(s)||(s=s.child(""));let o=new Ne(new Z(s),0),c=new it(ge);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},o),M.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new Ne(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ne(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var wm=class{constructor(e){this.Mr=e,this.docs=function(){return new Et(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ys.newInvalidDocument(n))}getEntries(e,n){let r=pl();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ys.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pl(),o=n.path,c=new Z(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||EF(wF(f),r)<=0||(i.has(f.key)||ny(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Em(this)}getSize(e){return M.resolve(this.size)}},Em=class extends pm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Tm=class{constructor(e){this.persistence=e,this.Nr=new ur(n=>ey(n),ty),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new la,this.targetCount=0,this.kr=ua.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ua(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var Dm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bF(0),this.Kr=!1,this.Kr=!0,this.$r=new Im,this.referenceDelegate=e(this),this.Ur=new Tm(this),this.indexManager=new hm,this.remoteDocumentCache=function(i){return new wm(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dm(n),this.Gr=new ym(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new _m(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new bm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},bm=class extends jg{constructor(e){super(),this.currentSequenceNumber=e}},Cm=class t{constructor(e){this.persistence=e,this.Jr=new la,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=Z.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Sm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Xe(),i=Xe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Am=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rm=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return jT()?8:DF(Ve())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Am;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ta()<=ee.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(ta()<=ee.DEBUG&&L("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ta()<=ee.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):M.resolve())}Yi(e,n){if(ab(n))return M.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tm(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Xe(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,c);return this.ns(n,d,o,u.readTime)?this.Yi(e,tm(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return ab(n)||i.isEqual(Se.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(ta()<=ee.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(n)),this.rs(e,o,n,_F(i,-1)).next(c=>c))})}ts(e,n){let r=new it(VF(e));return n.forEach((i,s)=>{ny(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ta()<=ee.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",na(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Nm=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Et(ge),this._s=new ur(s=>ey(s),ty),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function dV(t,e,n,r){return new Nm(t,e,n,r)}function Wb(t,e){return D(this,null,function*(){let n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=Xe();for(let d of i){o.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})})}function hV(t,e){let n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let g=d.batch,I=g.keys(),E=M.resolve();return I.forEach(A=>{E=E.next(()=>f.getEntry(u,A)).next(x=>{let P=d.docVersions.get(A);Le(P!==null),x.version.compareTo(P)<0&&(g.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),f.addEntry(x)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=Xe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fV(t){let e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function pV(t,e){let n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var yl=class{constructor(){this.activeTargetIds=qF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Mm=class{constructor(){this.so=new yl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xm=class{_o(e){}shutdown(){}};var vl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var il=null;function Rg(){return il===null?il=function(){return 268435456+Math.round(2147483648*Math.random())}():il++,"0x"+il.toString(16)}var gV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Pm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ze="WebChannelConnection",Om=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=Rg(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw al("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=gV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Rg();return new Promise((o,c)=>{let u=new Tg;u.setWithCredentials(!0),u.listenOnce(bg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ea.NO_ERROR:let f=u.getResponseJson();L(Ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case ea.TIMEOUT:L(Ze,`RPC '${e}' ${s} timed out`),c(new j(R.DEADLINE_EXCEEDED,"Request time out"));break;case ea.HTTP_ERROR:let g=u.getStatus();if(L(Ze,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let I=u.getResponseJson();Array.isArray(I)&&(I=I[0]);let E=I?.error;if(E&&E.status&&E.message){let A=function(P){let F=P.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(E.status);c(new j(A,E.message))}else c(new j(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new j(R.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{L(Ze,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);L(Ze,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=Rg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ag(),c=Sg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new Dg({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");L(Ze,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),I=!1,E=!1,A=new Pm({Io:P=>{E?L(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(I||(L(Ze,`Opening RPC '${e}' stream ${i} transport.`),g.open(),I=!0),L(Ze,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},To:()=>g.close()}),x=(P,F,z)=>{P.listen(F,W=>{try{z(W)}catch(ne){setTimeout(()=>{throw ne},0)}})};return x(g,cs.EventType.OPEN,()=>{E||(L(Ze,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(g,cs.EventType.CLOSE,()=>{E||(E=!0,L(Ze,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(g,cs.EventType.ERROR,P=>{E||(E=!0,al(Ze,`RPC '${e}' stream ${i} transport errored:`,P),A.So(new j(R.UNAVAILABLE,"The operation could not be completed")))}),x(g,cs.EventType.MESSAGE,P=>{var F;if(!E){let z=P.data[0];Le(!!z);let W=z,ne=W.error||((F=W[0])===null||F===void 0?void 0:F.error);if(ne){L(Ze,`RPC '${e}' stream ${i} received error:`,ne);let Pe=ne.status,ae=function(y){let _=Re[y];if(_!==void 0)return ZF(_)}(Pe),w=ne.message;ae===void 0&&(ae=R.INTERNAL,w="Unknown error status: "+Pe+" with message "+ne.message),E=!0,A.So(new j(ae,w)),g.close()}else L(Ze,`RPC '${e}' stream ${i} received:`,z),A.bo(z)}}),x(c,Cg.STAT_EVENT,P=>{P.stat===tl.PROXY?L(Ze,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===tl.NOPROXY&&L(Ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Ng(){return typeof document<"u"?document:null}function Nl(t){return new am(t,!0)}var Il=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var km=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Il(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new j(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Lm=class extends km{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=oV(e.writeResults,e.commitTime),r=ds(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=rV(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>sV(this.serializer,r))};this.a_(n)}};var Fm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new j(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,um(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,um(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Vm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zr(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Um=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>D(this,null,function*(){fa(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let d=me(u);d.L_.add(4),yield ha(d),d.q_.set("Unknown"),d.L_.delete(4),yield Ml(d)})}(this))}))}),this.q_=new Vm(r,i)}};function Ml(t){return D(this,null,function*(){if(fa(t))for(let e of t.B_)yield e(!0)})}function ha(t){return D(this,null,function*(){for(let e of t.B_)yield e(!1)})}function fa(t){return me(t).L_.size===0}function Kb(t,e,n){return D(this,null,function*(){if(!Rl(e))throw e;t.L_.add(1),yield ha(t),t.q_.set("Offline"),n||(n=()=>fV(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Ml(t)}))})}function Qb(t,e){return e().catch(n=>Kb(t,n,e))}function xl(t){return D(this,null,function*(){let e=me(t),n=lr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mV(e);)try{let i=yield pV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,yV(e,i)}catch(i){yield Kb(e,i)}Yb(e)&&Jb(e)})}function mV(t){return fa(t)&&t.O_.length<10}function yV(t,e){t.O_.push(e);let n=lr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Yb(t){return fa(t)&&!lr(t).n_()&&t.O_.length>0}function Jb(t){lr(t).start()}function vV(t){return D(this,null,function*(){lr(t).p_()})}function IV(t){return D(this,null,function*(){let e=lr(t);for(let n of t.O_)e.m_(n.mutations)})}function _V(t,e,n){return D(this,null,function*(){let r=t.O_.shift(),i=sm.from(r,e,n);yield Qb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xl(t)})}function wV(t,e){return D(this,null,function*(){e&&lr(t).V_&&(yield function(r,i){return D(this,null,function*(){if(function(o){return JF(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();lr(r).s_(),yield Qb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield xl(r)}})}(t,e)),Yb(t)&&Jb(t)})}function fb(t,e){return D(this,null,function*(){let n=me(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=fa(n);n.L_.add(3),yield ha(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Ml(n)})}function EV(t,e){return D(this,null,function*(){let n=me(t);e?(n.L_.delete(2),yield Ml(n)):e||(n.L_.add(2),yield ha(n),n.q_.set("Unknown"))})}function lr(t){return t.U_||(t.U_=function(n,r,i){let s=me(n);return s.w_(),new Lm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vV.bind(null,t),mo:wV.bind(null,t),f_:IV.bind(null,t),g_:_V.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.U_.s_(),yield xl(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var jm=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Zb(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),Rl(t))return new j(R.UNAVAILABLE,`${e}: ${t}`);throw t}var Bm=class{constructor(){this.queries=pb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=me(n),s=i.queries;i.queries=pb(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new j(R.ABORTED,"Firestore shutting down"))}};function pb(){return new ur(t=>Ob(t),Pb)}function TV(t){t.Y_.forEach(e=>{e.next()})}var gb,mb;(mb=gb||(gb={})).ea="default",mb.Cache="cache";var $m=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ur(c=>Ob(c),Pb),this.Ma=new Map,this.xa=new Set,this.Oa=new Et(Z.comparator),this.Na=new Map,this.La=new la,this.Ba={},this.ka=new Map,this.qa=ua.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function DV(t,e,n){return D(this,null,function*(){let r=AV(t);try{let i=yield function(o,c){let u=me(o),d=et.now(),f=c.reduce((E,A)=>E.add(A.key),Xe()),g,I;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=pl(),x=Xe();return u.cs.getEntries(E,f).next(P=>{A=P,A.forEach((F,z)=>{z.isValidDocument()||(x=x.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,A)).next(P=>{g=P;let F=[];for(let z of c){let W=YF(z,g.get(z.key).overlayedDocument);W!=null&&F.push(new xn(z.key,W,Sb(W.value.mapValue),Yr.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,F,c)}).next(P=>{I=P;let F=P.applyToLocalDocumentSet(g,x);return u.documentOverlayCache.saveOverlays(E,P.batchId,F)})}).then(()=>({batchId:I.batchId,changes:Lb(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Et(ge)),d=d.insert(c,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield Pl(r,i.changes),yield xl(r.remoteStore)}catch(i){let s=Zb(i,"Failed to persist write");n.reject(s)}})}function yb(t,e,n){let r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=me(o);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let I of g.j_)I.Z_(c)&&(d=!0)}),d&&TV(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bV(t,e){return D(this,null,function*(){let n=me(t),r=e.batch.batchId;try{let i=yield hV(n.localStore,e);eC(n,r,null),Xb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Pl(n,i)}catch(i){yield Eb(i)}})}function CV(t,e,n){return D(this,null,function*(){let r=me(t);try{let i=yield function(o,c){let u=me(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(Le(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);eC(r,e,n),Xb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Pl(r,i)}catch(i){yield Eb(i)}})}function Xb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function eC(t,e,n){let r=me(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Pl(t,e,n){return D(this,null,function*(){let r=me(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=Sm.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return D(this,null,function*(){let f=me(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(d,I=>M.forEach(I.$i,E=>f.persistence.referenceDelegate.addReference(g,I.targetId,E)).next(()=>M.forEach(I.Ui,E=>f.persistence.referenceDelegate.removeReference(g,I.targetId,E)))))}catch(g){if(!Rl(g))throw g;L("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let I=g.targetId;if(!g.fromCache){let E=f.os.get(I),A=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(I,x)}}})}(r.localStore,s))})}function SV(t,e){return D(this,null,function*(){let n=me(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield Wb(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new j(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pl(n,r.hs)}})}function AV(t){let e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CV.bind(null,e),e}var _l=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=Nl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dV(this.persistence,new Rm,e.initialUser,this.serializer)}createPersistence(e){return new Dm(Cm.Zr,this.serializer)}createSharedClientState(e){return new Mm}terminate(){return D(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var zm=class{initialize(e,n){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SV.bind(null,this.syncEngine),yield EV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Bm}()}createDatastore(e){let n=Nl(e.databaseInfo.databaseId),r=function(s){return new Om(s)}(e.databaseInfo);return function(s,o,c,u){return new Fm(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new Um(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>yb(this.syncEngine,n,0),function(){return vl.D()?new vl:new xm}())}createSyncEngine(e,n){return function(i,s,o,c,u,d,f){let g=new $m(i,s,o,c,u,d);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return D(this,null,function*(){var e,n;yield function(i){return D(this,null,function*(){let s=me(i);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield ha(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var qm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ue.UNAUTHENTICATED,this.clientId=ul.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>D(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Zb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Mg(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield Wb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function vb(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield NV(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fb(e.remoteStore,i)),t._onlineComponents=e})}function RV(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function NV(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!RV(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),yield Mg(t,new _l)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Mg(t,new _l);return t._offlineComponents})}function MV(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield vb(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield vb(t,new zm))),t._onlineComponents})}function xV(t){return MV(t).then(e=>e.syncEngine)}function tC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Ib=new Map;function nC(t,e,n){if(!n)throw new j(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PV(t,e,n,r){if(e===!0&&r===!0)throw new j(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _b(t){if(!Z.isDocumentKey(t))throw new j(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wb(t){if(Z.isDocumentKey(t))throw new j(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function rC(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=iy(t);throw new j(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var wl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new j(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xg;switch(r.type){case"firstParty":return new Lg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Ib.get(n);r&&(L("ComponentProvider","Removing Datastore"),Ib.delete(n),r.terminate())}(this),Promise.resolve()}};function iC(t,e,n,r={}){var i;let s=(t=rC(t,bs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ue.MOCK_USER;else{c=kT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new j(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ue(d)}t._authCredentials=new Pg(new cl(c,u))}}var Hm=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Nn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},or=class t extends Hm{constructor(e,n,r){super(e,n,kF(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function sC(t,e,...n){if(t=_t(t),nC("collection","path",e),t instanceof bs){let r=xe.fromString(e,...n);return wb(r),new or(t,null,r)}{if(!(t instanceof Nn||t instanceof or))throw new j(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return wb(r),new or(t.firestore,null,r)}}function oC(t,e,...n){if(t=_t(t),arguments.length===1&&(e=ul.newId()),nC("doc","path",e),t instanceof bs){let r=xe.fromString(e,...n);return _b(r),new Nn(t,null,new Z(r))}{if(!(t instanceof Nn||t instanceof or))throw new j(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return _b(r),new Nn(t.firestore,t instanceof or?t.converter:null,new Z(r))}}var Gm=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Il(this,"async_queue_retry"),this.Eu=()=>{let n=Ng();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Ng();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Rn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return D(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Rl(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=jm.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&te()}verifyOperationInProgress(){}mu(){return D(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var El=class extends bs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Gm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cC(this),this._firestoreClient.terminate()}};function aC(t,e){let n=typeof t=="object"?t:ns(),r=typeof t=="string"?t:e||"(default)",i=qo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=OT("firestore");s&&iC(i,...s)}return i}function OV(t){return t._firestoreClient||cC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cC(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,d,f){return new $g(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,tC(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new qm(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Tl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mn.fromBase64String(e))}catch(n){throw new j(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Dl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var bl=class{constructor(e){this._methodName=e}};var Cl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var Sl=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var kV=/^__.*__$/,Wm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ni(e,this.data,n,this.fieldTransforms)}};function uC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var Km=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Al(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(uC(this.wu)&&kV.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Qm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nl(e)}Nu(e,n,r,i=!1){return new Km({wu:e,methodName:n,Ou:r,path:wt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function LV(t){let e=t._freezeSettings(),n=Nl(t._databaseId);return new Qm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FV(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);fC("Data must be an object, but it was:",o,r);let c=dC(r,o),u,d;if(s.merge)u=new sn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let I=VV(e,g,n);if(!o.contains(I))throw new j(R.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);BV(f,I)||f.push(I)}u=new sn(f),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new Wm(new rn(c),u,d)}function lC(t,e){if(hC(t=_t(t)))return fC("Unsupported field value:",e,t),dC(t,e);if(t instanceof bl)return function(r,i){if(!uC(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=lC(c,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=et.fromDate(r);return{timestampValue:cm(i.serializer,s)}}if(r instanceof et){let s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cm(i.serializer,s)}}if(r instanceof Cl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tl)return{bytesValue:XF(i.serializer,r._byteString)};if(r instanceof Nn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sl)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return ry(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${iy(r)}`)}(t,e)}function dC(t,e){let n={};return Tb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(t,(r,i)=>{let s=lC(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Cl||t instanceof Tl||t instanceof Nn||t instanceof bl||t instanceof Sl)}function fC(t,e,n){if(!hC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=iy(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function VV(t,e,n){if((e=_t(e))instanceof Dl)return e._internalPath;if(typeof e=="string")return jV(t,e);throw Al("Field path arguments must be of type string or ",t,!1,void 0,n)}var UV=new RegExp("[~\\*/\\[\\]]");function jV(t,e,n){if(e.search(UV)>=0)throw Al(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dl(...e.split("."))._internalPath}catch{throw Al(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Al(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new j(R.INVALID_ARGUMENT,c+t+u)}function BV(t,e){return t.some(n=>n.isEqual(e))}function $V(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function pC(t,e){let n=rC(t.firestore,El),r=oC(t),i=$V(t.converter,e);return zV(n,[FV(LV(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function zV(t,e){return function(r,i){let s=new Rn;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return DV(yield xV(r),i,s)})),s.promise}(OV(t),e)}(function(e,n=!0){(function(i){Cs=i})(tr),er(new Ot("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new El(new Og(r.getProvider("auth-internal")),new Vg(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new j(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zg(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ke(eb,"4.7.1",e),ke(eb,"4.7.1","esm2017")})();var ri=class{constructor(e){return e}},gC="firestore",sy=class{constructor(){return Ho(gC)}};var oy=new V("angularfire2.firestore-instances");function qV(t,e){let n=ku(gC,t,e);return n&&new ri(n)}function HV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ri(r)}}var GV={provide:sy,deps:[[new at,oy]]},WV={provide:ri,useFactory:qV,deps:[[new at,oy],bn]};function mC(t,...e){return ke("angularfire",$r.full,"fst"),mt([WV,GV,{provide:oy,useFactory:HV(t),multi:!0,deps:[he,rt,ss,zr,[new at,Xo],[new at,is],...e]}])}var yC=nr(pC,!0);var vC=nr(sC,!0);var IC=nr(aC,!0);var Ol=class t{constructor(e){this.firestore=e}user="";Login(){let e=vC(this.firestore,"usuarios");yC(e,{fecha:new Date})}static \u0275fac=function(n){return new(n||t)(He(ri))};static \u0275cmp=Nt({type:t,selectors:[["app-login"]],decls:14,vars:0,consts:[[1,"login-container"],["for","username"],["type","text","formControlName","username","id","username","required",""],["for","password"],["type","password","formControlName","password","id","password","required",""],["type","submit"]],template:function(n,r){n&1&&(Ie(0,"div",0)(1,"form")(2,"h2"),Ce(3,"Login"),_e(),Ie(4,"label",1),Ce(5,"Username:"),_e(),Yn(6,"input",2),Ie(7,"label",3),Ce(8,"Password:"),_e(),Yn(9,"input",4),Ie(10,"button",5),Ce(11,"Test login"),_e(),Ie(12,"button",5),Ce(13,"Autocompletar"),_e()()())},styles:[".login-container[_ngcontent-%COMP%]{width:300px;font-family:system-ui;margin:auto;padding:20px;border:1px solid #ccc;border-radius:5px;box-shadow:0 2px 10px #0000001a}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:8px;margin:10px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box;font-family:inherit}button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:50%;font-family:inherit}button[_ngcontent-%COMP%]:hover{opacity:.8}"]})};var kl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Nt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[Jt],decls:14,vars:0,consts:[[1,"quien-soy-container"],[1,"datos-personales"]],template:function(n,r){n&1&&(Ie(0,"div",0)(1,"h1"),Ce(2,"Qui\xE9n Soy"),_e(),Ie(3,"div",1)(4,"ul")(5,"li")(6,"strong"),Ce(7,"Nombre:"),_e()(),Ie(8,"li")(9,"strong"),Ce(10,"Edad:"),_e()(),Ie(11,"li")(12,"strong"),Ce(13,"Puntaje:"),_e()()()()())}})};var _C=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Cu},{path:"login",component:Ol},{path:"quien-soy",component:kl},{path:"**",component:Au}];var wC={providers:[fE({eventCoalescing:!0}),NT(_C),WE(),iD(()=>sD({projectId:"labiv-tp",appId:"1:1050156996847:web:37cbd323a27df62a21e31a",storageBucket:"labiv-tp.appspot.com",apiKey:"AIzaSyCs2qZgADfo3NLHq56EUOmJmSa_keDje4o",authDomain:"labiv-tp.firebaseapp.com",messagingSenderId:"1050156996847"})),QD(()=>YD()),mC(()=>IC())]};var Ll=class t{constructor(e){this.router=e}title="rutas";goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(He(ts))};static \u0275cmp=Nt({type:t,selectors:[["app-root"]],standalone:!0,features:[Jt],decls:9,vars:0,consts:[["routerLink","home","routerLinkActive","active-route"],[3,"click"]],template:function(n,r){n&1&&(Ie(0,"p"),Ce(1,"MENU test 2"),_e(),Ie(2,"button",0),Ce(3,"Bienvenido"),_e(),Ie(4,"button",1),Bi("click",function(){return r.goTo("login")}),Ce(5,"Login"),_e(),Ie(6,"button",1),Bi("click",function(){return r.goTo("quien-soy")}),Ce(7,"Quien soy"),_e(),Yn(8,"router-outlet"))},dependencies:[lp,Tu,RT],styles:[".active-route[_ngcontent-%COMP%]{background-color:brown}"]})};HE(Ll,wC).catch(t=>console.error(t));
